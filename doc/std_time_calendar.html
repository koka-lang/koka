
<!DOCTYPE html>
<html>
<!-- NO_CLICK_TRACKING -->

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/madoko.css" />
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>std/time/calendar documentation</title>
</head>

<body class="koka doc body"><div class="madoko">
<h1><a class="link" href="https://koka-lang.github.io/koka/doc/std_time_calendar-source.html"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar</span></a><a class="link" href="toc.html"><span class="toc-link">&#x25b2;toc</span></a></h1>
<div class="toc code"><ul class="toc"><li><a class="link" href="#type_space_calendar"><span class="kw">struct</span>&nbsp;<span class="tp">calendar</span></a>
</li><li class="nested"><a class="link" href="#cal_gregorian"><span class="kw">val</span>&nbsp;cal<span class="dash">-</span>gregorian</a></li><li class="nested"><a class="link" href="#cal_iso"><span class="kw">val</span>&nbsp;cal<span class="dash">-</span>iso</a></li><li class="nested"><a class="link" href="#cal_iso_sls"><span class="kw">val</span>&nbsp;cal<span class="dash">-</span>iso<span class="dash">-</span>sls</a></li><li class="nested"><a class="link" href="#cal_utc_create"><span class="kw">fun</span>&nbsp;cal<span class="dash">-</span>utc<span class="dash">-</span>create</a></li><li class="nested"><a class="link" href="#cal_utc_sls_create"><span class="kw">fun</span>&nbsp;cal<span class="dash">-</span>utc<span class="dash">-</span>sls<span class="dash">-</span>create</a></li><li class="nested"><a class="link" href="#combine_earth_calendars"><span class="kw">fun</span>&nbsp;combine<span class="dash">-</span>earth<span class="dash">-</span>calendars</a></li><li class="nested"><a class="link" href="#day_diff"><span class="kw">fun</span>&nbsp;day<span class="dash">-</span>diff</a></li><li class="nested"><a class="link" href="#earth_calendar"><span class="kw">fun</span>&nbsp;earth<span class="dash">-</span>calendar</a></li><li class="nested"><a class="link" href="#iso_calendar"><span class="kw">fun</span>&nbsp;iso<span class="dash">-</span>calendar</a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#long_name"><span class="kw">fun</span>&nbsp;long<span class="dash">-</span>name</a></li><li class="nested"><a class="link" href="#month_prefix"><span class="kw">fun</span>&nbsp;month<span class="dash">-</span>prefix</a></li><li class="nested"><a class="link" href="#name"><span class="kw">fun</span>&nbsp;name</a></li><li class="nested"><a class="link" href="#show_era"><span class="kw">fun</span>&nbsp;show<span class="dash">-</span>era</a></li><li class="nested"><a class="link" href="#solar_calendar"><span class="kw">fun</span>&nbsp;solar<span class="dash">-</span>calendar</a></li><li class="nested"><a class="link" href="#solar_ecalendar"><span class="kw">fun</span>&nbsp;solar<span class="dash">-</span>ecalendar</a></li><li class="nested"><a class="link" href="#timescale"><span class="kw">fun</span>&nbsp;timescale</a></li><li class="nested"><a class="link" href="#year_shift_earth_calendar"><span class="kw">fun</span>&nbsp;year<span class="dash">-</span>shift<span class="dash">-</span>earth<span class="dash">-</span>calendar</a></li><li><a class="link" href="#type_space_timezone"><span class="kw">struct</span>&nbsp;<span class="tp">timezone</span></a>
</li><li class="nested"><a class="link" href="#name_1"><span class="kw">fun</span>&nbsp;name</a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#tz_fixed"><span class="kw">fun</span>&nbsp;tz<span class="dash">-</span>fixed</a></li><li class="nested"><a class="link" href="#tz_local"><span class="kw">fun</span>&nbsp;tz<span class="dash">-</span>local</a></li><li class="nested"><a class="link" href="#tz_utc"><span class="kw">val</span>&nbsp;tz<span class="dash">-</span>utc</a></li><li class="nested"><a class="link" href="#tz_utc_ques_"><span class="kw">fun</span>&nbsp;tz<span class="dash">-</span>utc?</a></li><li>&nbsp;</li><li><a class="link" href="#instant"><span class="kw">fun</span>&nbsp;instant</a></li><li><a class="link" href="#instant_dc"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>dc</a></li><li><a class="link" href="#instant_1"><span class="kw">fun</span>&nbsp;instant</a></li></ul></div>
<div class="doc koka comment">

<p class="p noindent">   Calendars.
</p>
<p class="p indent">  A Calendar determines how a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a></code> and <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a></code> relates to an <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></code> in time
  with respect to a <code class="koka"><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></code>. These functions turn <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></code>&#39;s into &#8220;human&#8221; dates. 
  Months, days etc. are always 1-based.  
</p></div>
<div class="decl" id="type_space_calendar"><div class="header code"><span class="def"><span class="kw">struct</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_calendar-source.html#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></span></span><span class="tp"></span>(<span class="param">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>,&nbsp;<span class="param">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>,&nbsp;<span class="param">timescale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a>,&nbsp;<span class="param">month<span class="dash">-</span>prefix</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>,&nbsp;<span class="param">show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>,&nbsp;<span class="param">instant<span class="dash">-</span>to<span class="dash">-</span>dc</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">tzdelta</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a><span class="tp sp">)</span>,&nbsp;<span class="param">dc<span class="dash">-</span>to<span class="dash">-</span>instant</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>,&nbsp;<span class="param">days<span class="dash">-</span>to<span class="dash">-</span>date</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a>,&nbsp;<span class="param">date<span class="dash">-</span>to<span class="dash">-</span>days</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>)</div><div class="doc koka comment">

<p class="p noindent">   A Calendar determines how a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a></code> and <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a></code> relates to an <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></code> in time. 
</p></div><div class="nested"><div class="decl" id="cal_gregorian"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_calendar-source.html#cal_gregorian">cal<span class="dash">-</span>gregorian</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The (proleptic)&nbsp;<a href="https://en.wikipedia.org/wiki/Gregorian_calendar">Gregorian calendar</a>.
   Just like the ISO calendar except that the year 0 does not exist, i.e. after 1 BCE (=<code class="koka"><span class="op">~</span><span class="number">1</span></code>)
   we have 1 CE (=<code class="koka"><span class="number">1</span></code>). 
   The calendar short name is <code class="code code2">GC</code>.
</p></div></div><div class="decl" id="cal_iso"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_calendar-source.html#cal_iso">cal<span class="dash">-</span>iso</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The standard&nbsp;<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> calendar
   using TI time (<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#ts_ti">ts<span class="dash">-</span>ti<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>ts<span class="dash">-</span>ti: <span class="tp">timescale</span></span></a></code>). This is a proleptic Gregorian 
   calendar except that it uses the year 0 for 1 BCE, -1 for 2 BCE etc. 
<br>
   This is the default calendar used in the library as it guarantees deterministic
   date calculations while still taking historical leap seconds into account.
</p></div></div><div class="decl" id="cal_iso_sls"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_calendar-source.html#cal_iso_sls">cal<span class="dash">-</span>iso<span class="dash">-</span>sls</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The standard&nbsp;<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> calendar
but using TI-SLS time (<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#ts_ti_sls">ts<span class="dash">-</span>ti<span class="dash">-</span>sls<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>ts<span class="dash">-</span>ti<span class="dash">-</span>sls: <span class="tp">timescale</span></span></a></code>), i.e. TI with 
<a href="https://www.cl.cam.ac.uk/~mgk25/time/utc-sls/">smoothed leap seconds</a>.
</p>
<p class="p indent">This calendar is equivalent to the ISO calendar except for the last 1000 seconds of a day where
a leap second occurs. On such day, the leap second time step (positive or negative)
is distributed over the last 1000 seconds of the day. On the full hour, ISO and ISO-SLS are equal again. 
</p>
<p class="p indent">This is a recommended calendar to use for
time stamps or communication with other services since it avoids any potential trouble
with leap seconds while still being quite precise.
</p></div></div><div class="decl" id="cal_utc_create"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#cal_utc_create">cal<span class="dash">-</span>utc<span class="dash">-</span>create</a></span>( <span class="tp tpp">leaps</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#type_space_leaps_table"><span class="tp">leaps<span class="dash">-</span>table</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>leaps<span class="dash">-</span>table: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a standard&nbsp;<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> calendar
   using UTC time (<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#ts_utc_create">ts<span class="dash">-</span>utc<span class="dash">-</span>create<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>ts<span class="dash">-</span>utc<span class="dash">-</span>create: <span class="tp sp">(</span><span class="tp tpp">leaps</span> <span class="tp kw op">:</span> <span class="tp">leaps<span class="dash">-</span>table</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>) given a provide leap second table (<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#type_space_leaps_table"><span class="tp">leaps<span class="dash">-</span>table</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>leaps<span class="dash">-</span>table: <span class="tp">V</span></span></a></code>). 
   This is a proleptic Gregorian 
   calendar except that it uses the year 0 for 1 BCE, -1 for 2 BCE etc. 
<br>
   You can create an ISO 8601 UTC calendar using the latest IETF leap
   second data using&nbsp;<a href="std_time_download.html#cal_utc_load"><code class="koka">cal<span class="dash">-</span>utc<span class="dash">-</span>load</code></a>.
</p></div></div><div class="decl" id="cal_utc_sls_create"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#cal_utc_sls_create">cal<span class="dash">-</span>utc<span class="dash">-</span>sls<span class="dash">-</span>create</a></span>( <span class="tp tpp">leaps</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_utc.html#type_space_leaps_table"><span class="tp">leaps<span class="dash">-</span>table</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>leaps<span class="dash">-</span>table: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a new ISO 8601 calendar based on UTC-SLS time, i.e. UTC with smoothed leap
   seconds. 
</p></div></div><div class="decl" id="combine_earth_calendars"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#combine_earth_calendars">combine<span class="dash">-</span>earth<span class="dash">-</span>calendars</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">switch<span class="dash">-</span>date</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a>, <span class="tp tpp">cal1</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a>, <span class="tp tpp">cal2</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a>, <span class="tp tpp">mb<span class="dash">-</span>show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>maybe: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a new calendar from by combining two other calendars. The <code class="koka">switch<span class="dash">-</span>date</code>
   is in terms of the second calendar (<code class="koka">cal2</code>) and time after (and including) the switch 
   date is displayed in <code class="koka">cal2</code> while times before it in <code class="koka">cal1</code>. This function is used
   for example for the Julian Gregorian calendar.
</p></div></div><div class="decl" id="day_diff"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#day_diff">day<span class="dash">-</span>diff</a></span>( <span class="tp tpp">cal</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a>, <span class="tp tpp">d1</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a>, <span class="tp tpp">d2</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the difference in days between two dates interpreted by calendar <code class="koka">cal</code>.
</p></div></div><div class="decl" id="earth_calendar"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#earth_calendar">earth<span class="dash">-</span>calendar</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>date</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a>, <span class="tp tpp">date<span class="dash">-</span>to<span class="dash">-</span>days</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a calendar where we assume that each
   day has 24 hours with 60 minutes, and where minutes are 60 seconds
   (with possibly leap seconds). The function takes care of timezones,
   epoch shifts, and leap seconds, and only needs a calendar <code class="koka">name</code>,
   a function <code class="koka"><a class="pp" href="#days_to_date">days<span class="dash">-</span>to<span class="dash">-</span>date<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>days<span class="dash">-</span>to<span class="dash">-</span>date: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">date</span><span class="tp sp">)</span></span></a></code> to calculate a date given a number of days since the <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>,
   a function <code class="koka"><a class="pp" href="#date_to_days">date<span class="dash">-</span>to<span class="dash">-</span>days<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>date<span class="dash">-</span>to<span class="dash">-</span>days: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">)</span></span></a></code> to calculate days since the <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> for a given date,
   and an optional time scale to be used (=<code class="koka">ts<span class="dash">-</span>utc</code>).<br>
   <code class="koka"><a class="pp" href="#month_prefix">month<span class="dash">-</span>prefix<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>month<span class="dash">-</span>prefix: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> (=<code class="koka"><span class="st">&#34;&#34;</span></code>) is used when displaying numeric months and is set for 
   the ISO week dates to <code class="koka"><span class="st">&#34;W&#34;</span></code> for example. The <code class="koka"><a class="pp" href="#show_era">show<span class="dash">-</span>era<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>show<span class="dash">-</span>era: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">)</span></span></a></code> function can be given
   to display the era of a date.
</p></div></div><div class="decl" id="iso_calendar"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#iso_calendar">iso<span class="dash">-</span>calendar</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a>, <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a standard ISO calendar using a particular time scale
   and calendar <code class="koka">name</code> (=<code class="koka">ts<span class="kw op">.</span>name</code>). 
</p></div></div><div class="decl" id="long_name"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#long_name">long<span class="dash">-</span>name</a></span>( <span class="tp tpp">calendar</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#long_name">long<span class="dash">-</span>name<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>long<span class="dash">-</span>name: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="month_prefix"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#month_prefix">month<span class="dash">-</span>prefix</a></span>( <span class="tp tpp">calendar</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#month_prefix">month<span class="dash">-</span>prefix<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>month<span class="dash">-</span>prefix: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="name"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#name">name</a></span>( <span class="tp tpp">calendar</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka">name</code> constructor field of the <code class="koka"><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="show_era"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#show_era">show<span class="dash">-</span>era</a></span>( <span class="tp tpp">calendar</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a><span class="tp sp">)</span></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#show_era">show<span class="dash">-</span>era<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>show<span class="dash">-</span>era: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">)</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="solar_calendar"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#solar_calendar">solar<span class="dash">-</span>calendar</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>year</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>yeardoy</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span>, <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>month</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>month</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">doy</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">epoch<span class="dash">-</span>shift</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">has<span class="dash">-</span>year<span class="dash">-</span>zero?</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   An abstraction over solar calendars. Almost all calendars can be defined
   in terms of this function (and <code class="koka"><a class="pp" href="#solar_ecalendar">solar<span class="dash">-</span>ecalendar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>solar<span class="dash">-</span>ecalendar: <span class="tp sp">(</span><span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>year</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">estimate<span class="dash">-</span>year</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">maybe</span><span class="tp sp">&#60;</span><span class="tp">int</span><span class="tp sp">&#62;</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">doy</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">epoch<span class="dash">-</span>shift</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">has<span class="dash">-</span>year<span class="dash">-</span>zero?</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">calendar</span></span></a></code>). Given functions to 
   convert days to and from a year, and day-of-the-year to and from month
   and month day, this constructs a full calendar.<br>
   Also needs an <code class="koka">epoch<span class="dash">-</span>shift</code> that gives the number of days from the
   calendar epoch to the date <code class="code code2">2000-01-01</code>. By default this is <code class="koka"><span class="number">730119</span></code> 
   which corresponds to a <code class="code code2">0001-01-01</code> ISO calendar epoch. The
   <code class="koka">has<span class="dash">-</span>year<span class="dash">-</span>zero?</code> (=<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a></code>) parameter is used when the calendar has a 
   year zero. The <code class="koka"><a class="pp" href="#month_prefix">month<span class="dash">-</span>prefix<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>month<span class="dash">-</span>prefix: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> (=<code class="koka"><span class="st">&#34;&#34;</span></code>) is used for displaying numeric
   months (and is <code class="koka"><span class="st">&#34;W&#34;</span></code> for <code class="koka">cal<span class="dash">-</span>iso<span class="dash">-</span>week</code> for example). The <code class="koka"><a class="pp" href="#show_era">show<span class="dash">-</span>era<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>show<span class="dash">-</span>era: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">)</span></span></a></code> function 
   can be given to display an era for a given date. Finally the <code class="koka">ts</code> (=<code class="koka">ts<span class="dash">-</span>utc</code>)
   gives the time scale for the calendar.
</p></div></div><div class="decl" id="solar_ecalendar"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#solar_ecalendar">solar<span class="dash">-</span>ecalendar</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>year</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">estimate<span class="dash">-</span>year</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>maybe: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>month</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>month</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">doy</span> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">epoch<span class="dash">-</span>shift</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">has<span class="dash">-</span>year<span class="dash">-</span>zero?</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a>, <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   An abstraction over solar calendars. Almost all calendars can be defined
   in terms of this function (and <code class="koka"><a class="pp" href="#solar_calendar">solar<span class="dash">-</span>calendar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>solar<span class="dash">-</span>calendar: <span class="tp sp">(</span><span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>year</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>yeardoy</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">doy</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">epoch<span class="dash">-</span>shift</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">has<span class="dash">-</span>year<span class="dash">-</span>zero?</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">calendar</span></span></a></code>). Given functions to 
   convert days to and from a year, and day-of-the-year to and from month
   and month day, this constructs a full calendar. In contrast to <code class="koka"><a class="pp" href="#solar_calendar">solar<span class="dash">-</span>calendar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>solar<span class="dash">-</span>calendar: <span class="tp sp">(</span><span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>year</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>yeardoy</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>before<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">days<span class="dash">-</span>to<span class="dash">-</span>month</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">doy</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">epoch<span class="dash">-</span>shift</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">has<span class="dash">-</span>year<span class="dash">-</span>zero?</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">calendar</span></span></a></code>
   this function just needs an estimation function from days to a year &#8211; for most
   calendars this is much more convenient. The estimation function returns a
   conservative (i.e. lowest) estimate for the year and a <code class="koka">maybe<span class="op">&#60;</span>int<span class="op">&#62;</span></code> that
   is the <code class="koka">safe<span class="dash">-</span>day</code>: if the day of the year is lower or equal to that the estimate
   is surely correct. Otherwise the wrapper will calculate the start day for the next
   year until the correct year is found.<br>
   Also needs an <code class="koka">epoch<span class="dash">-</span>shift</code> that gives the number of days from the
   calendar epoch to the date <code class="code code2">2000-01-01</code>. By default this is <code class="koka"><span class="number">730119</span></code> 
   which corresponds to a <code class="code code2">0001-01-01</code> ISO calendar epoch. The
   <code class="koka">has<span class="dash">-</span>year<span class="dash">-</span>zero?</code> (=<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a></code>) parameter is used when the calendar has a 
   year zero. The <code class="koka"><a class="pp" href="#month_prefix">month<span class="dash">-</span>prefix<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>month<span class="dash">-</span>prefix: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> (=<code class="koka"><span class="st">&#34;&#34;</span></code>) is used for displaying numeric
   months (and is <code class="koka"><span class="st">&#34;W&#34;</span></code> for <code class="koka">cal<span class="dash">-</span>iso<span class="dash">-</span>week</code> for example). The <code class="koka"><a class="pp" href="#show_era">show<span class="dash">-</span>era<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>show<span class="dash">-</span>era: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">)</span></span></a></code> function 
   can be given to display an era for a given date. Finally the <code class="koka">ts</code> (=<code class="koka">ts<span class="dash">-</span>utc</code>)
   gives the time scale for the calendar.
</p></div></div><div class="decl" id="timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#timescale">timescale</a></span>( <span class="tp tpp">calendar</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka">timescale</code> constructor field of the <code class="koka"><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="year_shift_earth_calendar"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#year_shift_earth_calendar">year<span class="dash">-</span>shift<span class="dash">-</span>earth<span class="dash">-</span>calendar</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">year<span class="dash">-</span>shift</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">cal</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a>, <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a new calendar from anoter calendar <code class="koka">cal</code> by adding an offset to the
   years (<code class="koka">year<span class="dash">-</span>shift</code>). This is used for example to create the Ethiopian calendar
   from the Coptic calendar, by using:
   <code class="koka"><a class="pp" href="#year_shift_earth_calendar">year<span class="dash">-</span>shift<span class="dash">-</span>earth<span class="dash">-</span>calendar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>year<span class="dash">-</span>shift<span class="dash">-</span>earth<span class="dash">-</span>calendar: <span class="tp sp">(</span><span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">year<span class="dash">-</span>shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">cal</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">,</span> <span class="tp tpp">month<span class="dash">-</span>prefix</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">show<span class="dash">-</span>era</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">calendar</span></span></a>( <span class="st">&#34;EC&#34;</span>, <span class="st">&#34;Ethiopian&#34;</span>, <span class="op">~</span><span class="number">276</span>, cal<span class="dash">-</span>coptic )</code>.
</p></div></div></div></div>
<div class="decl" id="type_space_timezone"><div class="header code"><span class="def"><span class="kw">struct</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_calendar-source.html#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></span></span><span class="tp"></span>(<span class="param">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>,&nbsp;<span class="param">utc<span class="dash">-</span>delta</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a><span class="tp sp">)</span>,&nbsp;<span class="param">utc<span class="dash">-</span>inverse</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>maybe: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span>)</div><div class="doc koka comment">

<p class="p noindent">   A <code class="koka"><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></code> determines a time offset with respect to the UTC / GMT timezone. For 
   using general time zones, see the&nbsp;<a href="std_time_timezone.html"><code class="koka">timezone</code></a> module.<br>
   The <code class="koka"><a class="pp" href="#tz_utc">tz<span class="dash">-</span>utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a></code> and <code class="koka"><a class="pp" href="#tz_local">tz<span class="dash">-</span>local<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>local: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">ndet</span> <span class="tp">timezone</span></span></a></code> time zones are used for UTC/GMT time and the local system time.<br>
   The <code class="koka">name</code> field contains the time zone name as IANA timezone identifier.
   The <code class="koka"><a class="pp" href="#utc_delta">utc<span class="dash">-</span>delta<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>utc<span class="dash">-</span>delta: <span class="tp sp">(</span><span class="tp tpp">timezone</span> <span class="tp kw op">:</span> <span class="tp">timezone</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp">duration</span><span class="tp sp">,</span> <span class="tp">string</span><span class="tp sp">)</span><span class="tp sp">)</span></span></a></code> field returns the time zone offset
   relative to UTC (for GMT-08:00 it returns a duration of <code class="koka"><span class="op">~</span><span class="number">8</span><span class="op">&#42;</span><span class="number">3600</span></code> seconds) and the abbreviated 
   time zone name (<code class="code code2">PDT</code> for example).<br>
   The optional <code class="koka"><a class="pp" href="#utc_inverse">utc<span class="dash">-</span>inverse<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>utc<span class="dash">-</span>inverse: <span class="tp sp">(</span><span class="tp tpp">timezone</span> <span class="tp kw op">:</span> <span class="tp">timezone</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">maybe</span><span class="tp sp">&#60;</span><span class="tp">instant</span><span class="tp sp">&#62;</span><span class="tp sp">)</span></span></a></code> field returns for an instant in the time zone, the associated UTC time.
   By default it returns <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#con_space_Nothing"><span class="co">Nothing</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>Nothing: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp">maybe</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> in which case a generic algorithm is used to determine the
   inverse.  
</p></div><div class="nested"><div class="decl" id="name_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#name_1">name</a></span>( <span class="tp tpp">timezone</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka">name</code> constructor field of the <code class="koka"><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="tz_fixed"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#tz_fixed">tz<span class="dash">-</span>fixed</a></span>( <span class="tp tpp">hours</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">mins</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">abbrv</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">hourwidth</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a time zone with a fixed number of hours and optional minutes (=<code class="koka"><span class="number">0</span></code>) difference from UTC/GMT.
   The time zone name and abbreviation is optional, and the default name
   will reflect the offset from UTC, for example <code class="koka"><span class="st">&#34;UTC+1:20&#34;</span></code>, or <code class="koka"><span class="st">&#34;UTC-8&#34;</span></code>.
   The default abbreviation is the empty string.
   The sign of the minutes will be matched to the hours (unless <code class="koka">hours</code> is <code class="koka"><span class="number">0</span></code>). 
   Returns <code class="koka"><a class="pp" href="#tz_utc">tz<span class="dash">-</span>utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a></code> if both <code class="koka">hours</code> and <code class="koka">mins</code> are zero.
</p></div></div><div class="decl" id="tz_local"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#tz_local">tz<span class="dash">-</span>local</a></span>()<span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_ndet"><span class="tp">ndet</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>ndet: <span class="tp">X</span></span></a> <a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the local timezone on the current system.
</p></div></div><div class="decl" id="tz_utc"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_calendar-source.html#tz_utc">tz<span class="dash">-</span>utc</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The standard UTC time zone with a 0 delta.
</p></div></div><div class="decl" id="tz_utc_ques_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#tz_utc_ques_">tz<span class="dash">-</span>utc?</a></span>( <span class="tp tpp">tz</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Is this the UTC timezone?
</p></div></div></div></div>
<div class="decl" id="instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#instant">instant</a></span>( <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a>, <span class="tp tpp">c</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a>, <span class="tp tpp">tz</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a>, <span class="tp tpp">cal</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the instant in time for a given <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a></code> and <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a></code> (= <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#clock0">clock0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock0: <span class="tp">clock</span></span></a></code>) interpreted by 
   calendar <code class="koka">cal</code> (=<code class="koka"><a class="pp" href="#cal_iso">cal<span class="dash">-</span>iso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso: <span class="tp">calendar</span></span></a></code>) in a timezone <code class="koka">tz</code> (=<code class="koka"><a class="pp" href="#tz_utc">tz<span class="dash">-</span>utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a></code> by default).
</p></div></div>
<div class="decl" id="instant_dc"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#instant_dc">instant<span class="dash">-</span>dc</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">tz</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a>, <span class="tp tpp">cal</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a><span class="tp sp">)</span></div><div class="doc koka comment">

<p class="p noindent">   Convert an <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></code> to a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="tp">V</span></span></a></code>, <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="tp">V</span></span></a></code>, timezone delta and abbreviation, 
   for a given timezone <code class="koka">tz</code> (=<code class="koka"><a class="pp" href="#tz_utc">tz<span class="dash">-</span>utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a></code> by default) and calendar (=<code class="koka"><a class="pp" href="#cal_iso">cal<span class="dash">-</span>iso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso: <span class="tp">calendar</span></span></a></code> by default).
</p></div></div>
<div class="decl" id="instant_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_calendar-source.html#instant_1">instant</a></span>( <span class="tp tpp">year</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">month</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">day</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">hours</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">minutes</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">seconds</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">frac</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_double"><span class="tp">double</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>double: <span class="tp">V</span></span></a>, <span class="tp tpp">tz</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_timezone"><span class="tp">timezone</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>timezone: <span class="tp">V</span></span></a>, <span class="tp tpp">cal</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the instant in time for a given date and clock interpreted by 
   calendar <code class="koka">cal</code> (=<code class="koka"><a class="pp" href="#cal_iso">cal<span class="dash">-</span>iso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso: <span class="tp">calendar</span></span></a></code>) in a timezone <code class="koka">tz</code> (=<code class="koka"><a class="pp" href="#tz_utc">tz<span class="dash">-</span>utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a></code> by default).
</p>
<p class="p indent">  The <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#month">month<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>month: <span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span></span></a></code>, <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_date.html#day">day<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>day: <span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">int</span></span></a></code>, <code class="koka">hour</code>, <code class="koka">minutes</code>, and <code class="koka">seconds</code> may be outside their usual ranges 
  and will be normalized during the conversion. For example, January 33 converts to February 2.
  This makes it very easy to add- or subtract days or months to an existing time.
</p>
<p class="p indent">  Due to timezone transitions, or leap seconds, it is possible to specify dates that never
  happend (as it was skipped by a timezone change), or ambigious times (as a timezone springs back).
  In such cases, the time is always interpreted in the earlier timezone.
</p></div></div>
</div></body>
</html>

<span data-line=""></span>