
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>std/os/flags documentation</title>
</head>

<body class="koka doc body madoko">
<h1><a class="link" href="https://koka-lang.github.io/koka/doc/std_os_flags-source.html"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags</span></a><a class="link" href="toc.html"><span class="toc-link">&#x25b2;toc</span></a></h1>
<div class="toc code"><ul class="toc"><li><a class="link" href="#type_space_flag"><span class="kw">struct</span>&nbsp;<span class="tp">flag</span></a>
</li><li class="nested"><a class="link" href="#help"><span class="kw">fun</span>&nbsp;help</a></li><li class="nested"><a class="link" href="#long_names"><span class="kw">fun</span>&nbsp;long<span class="dash">-</span>names</a></li><li class="nested"><a class="link" href="#parser"><span class="kw">fun</span>&nbsp;parser</a></li><li class="nested"><a class="link" href="#short_names"><span class="kw">fun</span>&nbsp;short<span class="dash">-</span>names</a></li><li><a class="link" href="#type_space_flag_order"><span class="kw">type</span>&nbsp;<span class="tp">flag<span class="dash">-</span>order</span></a>
</li><li class="nested"><a class="link" href="#con_space_Permute"><span class="kw">con</span>&nbsp;<span class="co">Permute</span></a></li><li class="nested"><a class="link" href="#con_space_Preorder"><span class="kw">con</span>&nbsp;<span class="co">Preorder</span></a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#con_space_Wrap"><span class="kw">con</span>&nbsp;<span class="co">Wrap</span></a></li><li class="nested"><a class="link" href="#is_permute"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>permute</a></li><li class="nested"><a class="link" href="#is_preorder"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>preorder</a></li><li class="nested"><a class="link" href="#is_wrap"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>wrap</a></li><li><a class="link" href="#type_space_flag_parser"><span class="kw">type</span>&nbsp;<span class="tp">flag<span class="dash">-</span>parser</span></a>
</li><li class="nested"><a class="link" href="#con_space_Bool"><span class="kw">con</span>&nbsp;<span class="co">Bool</span></a></li><li class="nested"><a class="link" href="#con_space_Opt"><span class="kw">con</span>&nbsp;<span class="co">Opt</span></a></li><li class="nested"><a class="link" href="#con_space_Req"><span class="kw">con</span>&nbsp;<span class="co">Req</span></a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#is_bool"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>bool</a></li><li class="nested"><a class="link" href="#is_opt"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>opt</a></li><li class="nested"><a class="link" href="#is_req"><span class="kw">fun</span>&nbsp;is<span class="dash">-</span>req</a></li><li>&nbsp;</li><li><a class="link" href="#parse"><span class="kw">fun</span>&nbsp;parse</a></li><li><a class="link" href="#test"><span class="kw">fun</span>&nbsp;test</a></li><li><a class="link" href="#usage"><span class="kw">fun</span>&nbsp;usage</a></li></ul></div>
<div class="doc koka comment">
<h1 class="synopsis">Parsing of command line flags.</h1>



<p class="p noindent">For example:
</p><pre class="koka source"><span class="plaincode">struct myflags(
  verbose : bool = False,
  version : bool = False, 
  name : string = "",
  output : string = "",
  arguments : list&lt;string&gt; = []
)

val myflags : list&lt;flag&lt;myflags&gt;&gt;
  = [ Flag( "V?", ["version"], Bool(set-version),     "display version information" ),
      Flag( "v",  ["verbose"], Bool(set-verbose),     "verbosely list files"),
      Flag( "o",  ["output"],  Opt(set-output,"FILE"),"use FILE for dump" ),
      Flag( "n",  ["name"],    Req(set-name,"USER"),  "only show USER files" ),
    ]

fun set-name( t : myflags, name )  { t(name = name)
fun set-verbose( t : myflags, v )  { t(verbose = v)
fun set-version( t : myflags, v )  { t(version = v)
fun set-output( t : myflags, mbs : maybe&lt;string&gt; ) : myflags

  match(mbs)
    Nothing -&gt; t(output = "stdout")
    Just(s) -&gt; t(output = s)


pub fun test( cmdargs )

  val header = "usage:\n program [options] files\n\noptions:"
  // testflags.usageInfo( header ).println
  val (flags,args,errs) = parse( Myflags(), myflags, cmdargs )
  if (errs.is-nil)
    println( "\nsuccess!" );
    println( "flags: " ++ flags.show-flags)
    println( "arguments: " ++ args.join(" ") );
    if (flags.version) myflags.usage(header).println

  else
    println( errs.join("\n") ++ "\n" ++ myflags.usage(header) )


fun show-flags( o : myflags )
  "{" ++ ["verbose=" ++ o.verbose.show,
         "version=" ++ o.version.show,
         "name=" ++ o.name.show,
         "output=" ++ o.output.show,
         "arguments=" ++ o.arguments.join(",")].join(";") ++ "}"

</span><span class="nicecode"><span class="tp kw">struct</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>(
  <a class="pp" href="#verbose">verbose<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>verbose: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>,
  <a class="pp" href="#version">version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>version: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#con_space_False"><span class="co">False</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>False: <span class="tp">bool</span></span></a>, 
  <a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> <span class="kw">=</span> <span class="st">""</span>,
  <a class="pp" href="#output">output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>output: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> <span class="kw">=</span> <span class="st">""</span>,
  <a class="pp" href="#arguments">arguments<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>arguments: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <span class="kw">=</span> []
)

<span class="kw">val</span> myflags <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span>
  <span class="kw">=</span> [ <a class="pp" href="#con_space_Flag"><span class="co">Flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Flag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">short<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">parser</span> <span class="tp kw op">:</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="st">"V?"</span>, [<span class="st">"version"</span>], <span class="co">Bool</span>(<a class="pp" href="#set_version">set<span class="dash">-</span>version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>version: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>),     <span class="st">"display version information"</span> ),
      <a class="pp" href="#con_space_Flag"><span class="co">Flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Flag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">short<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">parser</span> <span class="tp kw op">:</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="st">"v"</span>,  [<span class="st">"verbose"</span>], <span class="co">Bool</span>(<a class="pp" href="#set_verbose">set<span class="dash">-</span>verbose<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>verbose: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>),     <span class="st">"verbosely list files"</span>),
      <a class="pp" href="#con_space_Flag"><span class="co">Flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Flag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">short<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">parser</span> <span class="tp kw op">:</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="st">"o"</span>,  [<span class="st">"output"</span>],  <a class="pp" href="#con_space_Opt"><span class="co">Opt</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Opt: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">parse</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#set_output">set<span class="dash">-</span>output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>output: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">mbs</span> <span class="tp kw op">:</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>,<span class="st">"FILE"</span>),<span class="st">"use FILE for dump"</span> ),
      <a class="pp" href="#con_space_Flag"><span class="co">Flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Flag: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">short<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">long<span class="dash">-</span>names</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">parser</span> <span class="tp kw op">:</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>( <span class="st">"n"</span>,  [<span class="st">"name"</span>],    <a class="pp" href="#con_space_Req"><span class="co">Req</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Req: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">parse</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#set_name">set<span class="dash">-</span>name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>name: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>,<span class="st">"USER"</span>),  <span class="st">"only show USER files"</span> ),
    ]

<span class="kw">fun</span> <a class="pp" href="#set_name">set<span class="dash">-</span>name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>name: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>( t <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>, <a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> )  { t(<a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="kw">=</span> <a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>)
<span class="kw">fun</span> <a class="pp" href="#set_verbose">set<span class="dash">-</span>verbose<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>verbose: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>( t <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>, v )  { t(<a class="pp" href="#verbose">verbose<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>verbose: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">=</span> v)
<span class="kw">fun</span> <a class="pp" href="#set_version">set<span class="dash">-</span>version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>version: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>( t <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>, v )  { t(<a class="pp" href="#version">version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>version: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">=</span> v)
<span class="kw">fun</span> <a class="pp" href="#set_output">set<span class="dash">-</span>output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>set<span class="dash">-</span>output: <span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">,</span> <span class="tp tpp">mbs</span> <span class="tp kw op">:</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">myflags</span></span></a>( t <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>, mbs <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a>

  <span class="kw">match</span>(mbs)
    <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#con_space_Nothing"><span class="co">Nothing</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Nothing: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a> <span class="kw op">-></span> t(<a class="pp" href="#output">output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>output: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="kw">=</span> <span class="st">"stdout"</span>)
    <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#con_space_Just"><span class="co">Just</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Just: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">value</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(s) <span class="kw op">-></span> t(<a class="pp" href="#output">output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>output: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="kw">=</span> s)


<span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="#test">test<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>test: <span class="tp sp">(</span><span class="tp tpp">cmdargs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">console</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a>( cmdargs )

  <span class="kw">val</span> header <span class="kw">=</span> <span class="st">"usage:\n program [options] files\n\noptions:"</span>
  <span class="comment">// testflags.usageInfo( header ).println
</span>  <span class="kw">val</span> (flags,args,errs) <span class="kw">=</span> <a class="pp" href="#parse">parse<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>parse: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">initial</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">flags</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">args</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">ordering</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp sp">(</span><span class="tp">flag<span class="dash">-</span>order</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span></span></a>( <span class="co">Myflags</span>(), myflags, cmdargs )
  <span class="kw">if</span> (errs<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#is_nil">is<span class="dash">-</span>nil<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>is<span class="dash">-</span>nil: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">list</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>)
    println( <span class="st">"\nsuccess!"</span> );
    println( <span class="st">"flags: "</span> <span class="op">++</span> flags<span class="kw op">.</span><a class="pp" href="#show_flags">show<span class="dash">-</span>flags<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>show<span class="dash">-</span>flags: <span class="tp sp">(</span><span class="tp tpp">o</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>)
    println( <span class="st">"arguments: "</span> <span class="op">++</span> args<span class="kw op">.</span>join(<span class="st">" "</span>) );
    <span class="kw">if</span> (flags<span class="kw op">.</span><a class="pp" href="#version">version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>version: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>) myflags<span class="kw op">.</span><a class="pp" href="#usage">usage<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>usage: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">flags</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">header</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(header)<span class="kw op">.</span>println

  <span class="kw">else</span>
    println( errs<span class="kw op">.</span>join(<span class="st">"\n"</span>) <span class="op">++</span> <span class="st">"\n"</span> <span class="op">++</span> myflags<span class="kw op">.</span><a class="pp" href="#usage">usage<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>usage: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">flags</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">flag</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">header</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(header) )


<span class="kw">fun</span> <a class="pp" href="#show_flags">show<span class="dash">-</span>flags<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>show<span class="dash">-</span>flags: <span class="tp sp">(</span><span class="tp tpp">o</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>( <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_myflags"><span class="tp">myflags</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>myflags: <span class="co">V</span></span></a> )
  <span class="st">"{"</span> <span class="op">++</span> [<span class="st">"verbose="</span> <span class="op">++</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="#verbose">verbose<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>verbose: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="kw op">.</span>show,
         <span class="st">"version="</span> <span class="op">++</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="#version">version<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>version: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="kw op">.</span>show,
         <span class="st">"name="</span> <span class="op">++</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span>show,
         <span class="st">"output="</span> <span class="op">++</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="#output">output<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>output: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span>show,
         <span class="st">"arguments="</span> <span class="op">++</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#o">o<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>o: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">c</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tpp">g</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">c</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="kw op">.</span><a class="pp" href="#arguments">arguments<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>arguments: <span class="tp sp">(</span><span class="tp tpp">myflags</span> <span class="tp kw op">:</span> <span class="tp">myflags</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">string</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span>join(<span class="st">","</span>)]<span class="kw op">.</span>join(<span class="st">";"</span>) <span class="op">++</span> <span class="st">"}"</span>

</span></pre>


<p class="p noindent">.
</p></div>
<div class="decl" id="type_space_flag"><div class="header code"><span class="def"><span class="kw">struct</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_os_flags-source.html#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a></span></span><span class="tp">&lt;<span class="tp tv">a</span>&gt;</span>(<span class="param">short<span class="dash">-</span>names</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>,&nbsp;<span class="param">long<span class="dash">-</span>names</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>,&nbsp;<span class="param">parser</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span>,&nbsp;<span class="param">help</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>)</div><div class="doc koka comment">

<p class="p noindent">   Specifies a single command line flag
   For example: <code class="koka">flag(<span class="st">&#34;h?&#34;</span>,[<span class="st">&#34;help&#34;</span>],<span class="co">Bool</span>(<a class="pp" href="#help">help<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>help: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">flag</span> <span class="tp kw op">:</span> <span class="tp">flag</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a>),<span class="st">&#34;show help information&#34;</span>)</code>.
</p></div><div class="nested"><div class="decl" id="help"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#help">help</a></span>( <span class="tp op">^</span><span class="tp tpp">flag</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#help">help<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>help: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">flag</span> <span class="tp kw op">:</span> <span class="tp">flag</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="long_names"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#long_names">long<span class="dash">-</span>names</a></span>( <span class="tp op">^</span><span class="tp tpp">flag</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#long_names">long<span class="dash">-</span>names<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>long<span class="dash">-</span>names: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">flag</span> <span class="tp kw op">:</span> <span class="tp">flag</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">list</span><span class="tp sp">&#60;</span><span class="tp">string</span><span class="tp sp">&#62;</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="parser"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#parser">parser</a></span>( <span class="tp op">^</span><span class="tp tpp">flag</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#parser">parser<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>parser: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">flag</span> <span class="tp kw op">:</span> <span class="tp">flag</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="short_names"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#short_names">short<span class="dash">-</span>names</a></span>( <span class="tp op">^</span><span class="tp tpp">flag</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#short_names">short<span class="dash">-</span>names<span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>short<span class="dash">-</span>names: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">flag</span> <span class="tp kw op">:</span> <span class="tp">flag</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div></div></div>
<div class="decl" id="type_space_flag_order"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_os_flags-source.html#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a></span></span><span class="tp">&lt;<span class="tp tv">a</span>&gt;</span></div><div class="doc koka comment">

<p class="p noindent">   Specifies how to handle flags that follow non-flag command line arguments.
</p></div><div class="con-decl" id="con_space_Permute"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Permute"><span class="co">Permute</span></a></span></div><div class="doc koka comment">

<p class="p noindent">   Allow flags to be permuted with non-flag arguments (default).
</p></div></div><div class="con-decl" id="con_space_Preorder"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Preorder"><span class="co">Preorder</span></a></span></div><div class="doc koka comment">

<p class="p noindent">   flags following non-flag arguments are treated as arguments.
</p></div></div><div class="con-decl" id="con_space_Wrap"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Wrap"><span class="co">Wrap</span></a></span>(<span class="param">wrap</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span>)</div><div class="doc koka comment">

<p class="p noindent">   Wrap each non-flag argument into an flag.
</p></div></div><div class="nested"><div class="decl" id="is_permute"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_permute">is<span class="dash">-</span>permute</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>order</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><a class="pp" href="#con_space_Permute"><span class="co">Permute</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Permute: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp">flag<span class="dash">-</span>order</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="is_preorder"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_preorder">is<span class="dash">-</span>preorder</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>order</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><a class="pp" href="#con_space_Preorder"><span class="co">Preorder</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Preorder: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp">flag<span class="dash">-</span>order</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="is_wrap"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_wrap">is<span class="dash">-</span>wrap</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>order</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><a class="pp" href="#con_space_Wrap"><span class="co">Wrap</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Wrap: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">wrap</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">flag<span class="dash">-</span>order</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div></div></div>
<div class="decl" id="type_space_flag_parser"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_os_flags-source.html#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a></span></span><span class="tp">&lt;<span class="tp tv">a</span>&gt;</span></div><div class="doc koka comment">

<p class="p noindent">   Specifies the argument of an flag.
</p></div><div class="con-decl" id="con_space_Bool"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Bool"><span class="co">Bool</span></a></span>(<span class="param">default</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span>)</div><div class="doc koka comment">

<p class="p noindent">   For a flag <code class="koka">foo</code> Automatically enables forms <code class="koka"><span class="op">--</span>no<span class="dash">-</span>foo</code> and <code class="koka"><span class="op">--</span>foo<span class="kw">=</span>true<span class="kw op">|</span>false</code>.
</p></div></div><div class="con-decl" id="con_space_Opt"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Opt"><span class="co">Opt</span></a></span>(<span class="param">parse</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span>,&nbsp;<span class="param">help</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>)</div><div class="doc koka comment">

<p class="p noindent">   An flagal argument.
</p></div></div><div class="con-decl" id="con_space_Req"><div class="header code"><span class="def"><span class="kw">con</span>&nbsp;<a class="link" href="std_os_flags-source.html#con_space_Req"><span class="co">Req</span></a></span>(<span class="param">parse</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span>,&nbsp;<span class="param">help</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>)</div><div class="doc koka comment">

<p class="p noindent">   A required argument.
</p></div></div><div class="nested"><div class="decl" id="is_bool"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_bool">is<span class="dash">-</span>bool</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>parser</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><span class="co">Bool</span></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="is_opt"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_opt">is<span class="dash">-</span>opt</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>parser</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><a class="pp" href="#con_space_Opt"><span class="co">Opt</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Opt: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">parse</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp">maybe</span><span class="tp sp">&#60;</span><span class="tp">string</span><span class="tp sp">&#62;</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="is_req"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#is_req">is<span class="dash">-</span>req</a></span>( <span class="tp op">^</span><span class="tp tpp">flag<span class="dash">-</span>parser</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Tests for the <code class="koka"><a class="pp" href="#con_space_Req"><span class="co">Req</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Req: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp sp">(</span><span class="tp tpp">parse</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">help</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">flag<span class="dash">-</span>parser</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code> constructor of the <code class="koka"><a class="pp" href="#type_space_flag_parser"><span class="tp">flag<span class="dash">-</span>parser</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>parser: <span class="co">V</span> <span class="kw op">-&gt;</span> <span class="co">V</span></span></a></code> type.
</p></div></div></div></div>
<div class="decl" id="parse"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#parse">parse</a></span>( <span class="tp tpp">initial</span> <span class="tp sp">:</span>&nbsp;<span class="tp tv">a</span>, <span class="tp tpp">flags</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span>, <span class="tp tpp">args</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>, <span class="tp tpp">ordering</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><span class="tp sp">(</span><a class="pp" href="#type_space_flag_order"><span class="tp">flag<span class="dash">-</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag<span class="dash">-</span>order: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_total"><span class="tp">total</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>total: <span class="co">E</span></span></a> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span></div><div class="doc koka comment">

<p class="p noindent">   Parse the command line arguments <code class="koka">args</code> (see <code class="koka"><a class="doc link" href="https://koka-lang.github.io/koka/doc/std_env.html#get_args">std<span class="fslash">/</span>env<span class="fslash">/</span>get<span class="dash">-</span>args</a></code>)
   according to the flag descriptions <code class="koka">flags</code>. Takes an flagal argument
   <code class="koka">ordering</code> (=<code class="koka"><a class="pp" href="#con_space_Permute"><span class="co">Permute</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>Permute: <span class="tp kw">forall</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span> <span class="tp">flag<span class="dash">-</span>order</span><span class="tp sp">&#60;</span><span class="tp tv">a</span><span class="tp sp">&#62;</span></span></a></code>) that specifies how optare handled that follow non-flag arguments.
   Returns three lists: the list of parsed flags,
   a list of non-flag arguments, and a list of potential error messages.
</p></div></div>
<div class="decl" id="test"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#test">test</a></span>( <span class="tp tpp">cmdargs</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_console"><span class="tp">console</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>console: <span class="co">X</span></span></a> <a class="doc link" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_types"><span class="tp">types</span></a><span class="tp op"><span class="fslash">/</span></span><span class="tp sp">(</span><span class="tp sp">)</span></div></div>
<div class="decl" id="usage"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_os_flags-source.html#usage">usage</a></span>( <span class="tp tpp">flags</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="#type_space_flag"><span class="tp">flag</span><span class="pc"><span class="mo">std<span class="fslash">/</span>os<span class="fslash">/</span>flags<span class="fslash last">/</span></span>flag: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span>, <span class="tp tpp">header</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return a nicely formatted string describing the usage of a command,
   consisting of a <code class="koka">header</code> followed by the descriptions of the <code class="koka">flags</code>.
   The default header is <code class="code code2">&quot;usage:\n program [flags] arguments\n\nflags:&quot;</code>.
</p></div></div>
<div class="decl" id="-private-imports"><div class="header code"><span class="def"><span class="kw">private import</span>&nbsp;<span class="code"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types.html"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types</span></span></a></span>, <span class="code"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd.html"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd</span></span></a></span>, <span class="code"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html"><span class="mo">std<span class="fslash">/</span>core</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core</span></span></a></span></span></div></div>
</body>
</html>

<span data-line=""></span>