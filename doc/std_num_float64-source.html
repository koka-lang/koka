<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>float64.kk documentation</title>
</head>

<body class="koka doc body madoko">
<pre class="koka source"><span class="comment">/&#42;---------------------------------------------------------------------------
  Copyright 2017-2020 Microsoft Research, Daan Leijen.

  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the LICENSE file at the root of this distribution.
---------------------------------------------------------------------------&#42;/</span>

<span class="comment">/&#42; 64-bit IEEE floating point numbers. 

Also described as &#95;double&#95; precision or &#95;binary64&#95; numbers in the standards.
See also &lt;https://en.wikipedia.org/wiki/Double-precision&#95;floating-point&#95;format&gt;.

&#42;/</span>
<span class="kw">module</span> float64

<span class="kw">import</span> parse
<span class="kw">import</span> int64

<span class="kw">extern</span> <span class="kw">import</span>
  c  file <span class="st">"float64-inline.h"</span>
  js file <span class="st">"float64-inline.js"</span>


<span class="comment">//-----------------------------------------
// Constants
//-----------------------------------------
</span>
<span class="comment">// &amp;pi;
</span><span class="decl-val" id="pi"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#pi">pi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pi: <span class="tp">float64</span></span></a>          <span class="kw">=</span> <span class="number">0x1.9_21FB_5444_2D18p+1</span></span> <span class="comment">//3.141592653589793238462643383279502884
</span>
<span class="comment">// &amp;pi;
</span><span class="decl-val" id="flt_pi"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_pi">flt-pi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>pi: <span class="tp">float64</span></span></a>      <span class="kw">=</span> <a class="pp" href="#pi">pi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pi: <span class="tp">float64</span></span></a></span>

<span class="comment">// 2&amp;pi;
</span><span class="decl-val" id="flt_twopi"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_twopi">flt-twopi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>twopi: <span class="tp">float64</span></span></a>   <span class="kw">=</span> <span class="number">0x1.9_21FB_5444_2D18p+2</span></span>

<span class="comment">// &amp;pi;/2
</span><span class="decl-val" id="flt_pi2"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_pi2">flt-pi2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>pi2: <span class="tp">float64</span></span></a>     <span class="kw">=</span> <span class="number">0x1.9_21FB_5444_2D18p+0</span></span>

<span class="comment">// &amp;pi;/4
</span><span class="decl-val" id="flt_pi4"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_pi4">flt-pi4<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>pi4: <span class="tp">float64</span></span></a>     <span class="kw">=</span> <span class="number">0x1.9_21FB_5444_2D18p-1</span></span>

<span class="comment">// 3&amp;pi;/4
</span><span class="decl-val" id="flt_pi34"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_pi34">flt-pi34<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>pi34: <span class="tp">float64</span></span></a>    <span class="kw">=</span><span class="number">0x1.2_D97C_7F33_21D2p+1</span></span>

<span class="comment">// The [&#95;e&#95;](https://en.wikipedia.org/wiki/E&#95;(mathematical&#95;constant)) constant.
</span><span class="decl-val" id="flt_e"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_e">flt-e<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>e: <span class="tp">float64</span></span></a>       <span class="kw">=</span> <span class="number">0x1.5_BF0A_8B14_5769p+1</span></span> <span class="comment">// 2.718281828459045235360287471352662498
</span>
<span class="comment">// The natural logarithm of 2
</span><span class="decl-val" id="flt_ln2"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_ln2">flt-ln2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>ln2: <span class="tp">float64</span></span></a>     <span class="kw">=</span> <span class="number">0x1.6_2E42_FEFA_39EFp-1</span></span> <span class="comment">// 0.693147180559945309417232121458176568
</span>
<span class="comment">// The natural logarithm of 10
</span><span class="decl-val" id="flt_ln10"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_ln10">flt-ln10<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>ln10: <span class="tp">float64</span></span></a>    <span class="kw">=</span> <span class="number">0x1.2_6BB1_BBB5_5516p+1</span></span> <span class="comment">// 2.302585092994045684017991454684364208
</span>
<span class="comment">// The base-2 logarithm of &#95;e&#95;.
</span><span class="decl-val" id="flt_log2e"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_log2e">flt-log2e<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>log2e: <span class="tp">float64</span></span></a>   <span class="kw">=</span>  <span class="number">0x1.7_1547_652B_82FEp+0</span></span> <span class="comment">// 1.442695040888963407359924681001892137
</span>
<span class="comment">// The base-10 logarithm of &#95;e&#95;.
</span><span class="decl-val" id="flt_log10e"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_log10e">flt-log10e<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>log10e: <span class="tp">float64</span></span></a>  <span class="kw">=</span> <span class="number">0x1.B_CB7B_1526_E50Ep-2</span></span> <span class="comment">// 0.434294481903251827651128918916605082
</span>
<span class="comment">// The square-root of 2
</span><span class="decl-val" id="flt_sqrt2"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_sqrt2">flt-sqrt2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>sqrt2: <span class="tp">float64</span></span></a>   <span class="kw">=</span> <span class="number">0x1.6_A09E_667F_3BCDp+0</span></span> <span class="comment">// 1.414213562373095048801688724209698079
</span>
<span class="comment">// &#96;1.0 / sqrt(2.0)&#96;  (= &#96;sqrt(0.5)&#96;)
</span><span class="decl-val" id="flt_sqrt12"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_sqrt12">flt-sqrt12<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>sqrt12: <span class="tp">float64</span></span></a>  <span class="kw">=</span> <span class="number">0x1.6_A09E_667F_3BCDp-1</span></span> <span class="comment">// 0.707106781186547524400844362104849039
</span>
<span class="comment">// [Euler's constant](https://en.wikipedia.org/wiki/Euler%E2%80%93Mascheroni&#95;constant)
</span><span class="decl-val" id="flt_euler"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_euler">flt-euler<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>euler: <span class="tp">float64</span></span></a>   <span class="kw">=</span> <span class="number">0x1.2_788C_FC6F_B619p-1</span></span> <span class="comment">// 0.577215664901532860606512090082402431
</span>
<span class="comment">// Maximum float64 value
</span><span class="decl-val" id="flt_max"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_max">flt-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>max: <span class="tp">float64</span></span></a>     <span class="kw">=</span> <span class="number">0x1.F_FFFF_FFFF_FFFFp+1023</span></span> <span class="comment">// 1.79769313486231570815e+308
</span>
<span class="comment">// Smallest positive normalized float64 value
</span><span class="decl-val" id="flt_min"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_min">flt-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>min: <span class="tp">float64</span></span></a>     <span class="kw">=</span> <span class="number">0x1.0p-1022</span></span> <span class="comment">// 2.22507385850720138309e-308
</span>
<span class="comment">// Smallest positive subnormal value (i.e. [&#96;&#96;DBL&#95;TRUE&#95;MIN&#96;&#96;](http://en.cppreference.com/w/cpp/types/climits))
</span><span class="decl-val" id="flt_true_min"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_true_min">flt-true-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>true<span class="dash">-</span>min: <span class="tp">float64</span></span></a><span class="kw">=</span> <span class="number">0x1.0p-1074</span></span> <span class="comment">// 4.9406564584124654418e-324
</span>
<span class="comment">// Machine epsilon: the difference between 1.0 and the next representable &#96;:float64&#96; value.
</span><span class="decl-val" id="flt_epsilon"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_epsilon">flt-epsilon<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>epsilon: <span class="tp">float64</span></span></a> <span class="kw">=</span> <span class="number">0x1.0p-52</span></span> <span class="comment">// 2.2204460492503130808e-16
</span>
<span class="comment">// maximal precision in decimal digits of a &#96;:float64&#96;.
</span><span class="decl-val" id="flt_max_prec"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#flt_max_prec">flt-max-prec<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>max<span class="dash">-</span>prec: <span class="tp">int</span></span></a><span class="kw">=</span> <span class="number">15</span></span>

<span class="comment">// Represents a value that is &#95;not a number&#95; (NaN)
</span><span class="decl-val" id="nan"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#nan">nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>nan: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>    <span class="kw">=</span> <a class="pp" href="#make_nan">make-nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>nan: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(</span>)

<span class="comment">// Positive infinity
</span><span class="decl-val" id="posinf"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#posinf">posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>posinf: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#make_posinf">make-posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>posinf: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(</span>)

<span class="comment">// Negative infinity
</span><span class="decl-val" id="neginf"><span class="kw">pub</span> <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#neginf">neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>neginf: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#make_neginf">make-neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>neginf: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(</span>)

<span class="comment">//-----------------------------------------
// NaN, Infinity
//-----------------------------------------
</span>
<span class="decl-fun" id="make_nan"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#make_nan">make-nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>nan: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  inline <span class="st">"(double)NAN"</span>
  cs inline <span class="st">"double.NaN"</span>
  js inline <span class="st">"NaN"</span></span>

<span class="decl-fun" id="make_posinf"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#make_posinf">make-posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>posinf: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  inline <span class="st">"HUGE&#95;VAL"</span>
  cs inline <span class="st">"double.PositiveInfinity"</span>
  js inline <span class="st">"Infinity"</span></span>

<span class="decl-fun" id="make_neginf"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#make_neginf">make-neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>make<span class="dash">-</span>neginf: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  inline <span class="st">"-HUGE&#95;VAL"</span>
  cs inline <span class="st">"double.NegativeInfinity"</span>
  js inline <span class="st">"-Infinity"</span></span>


<span class="comment">// Is this value equal to NaN ?
</span><span class="decl-external" id="is_nan"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_nan">is-nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>nan: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c  inline <span class="st">"isnan(#1)"</span>
  cs <span class="st">"double.IsNaN"</span>
  js <span class="st">"isNaN"</span></span>

<span class="comment">// Is this value equal to negative or positive infinity ?
</span><span class="decl-fun" id="is_inf"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_inf">is-inf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>inf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c  inline <span class="st">"isinf(#1)"</span>
  cs <span class="st">"double.IsInfinity"</span>
  js inline <span class="st">"((#1) === Infinity || (#1) === -Infinity)"</span></span>

<span class="comment">// Is this value equal to positive infinity ?
</span><span class="decl-external" id="is_posinf"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_posinf">is-posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>posinf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c  inline <span class="st">"(isinf(#1) &amp;&amp; !signbit(#1))"</span>
  cs <span class="st">"double.IsPositiveInfinity"</span>
  js inline <span class="st">"((#1) === Infinity)"</span></span>

<span class="comment">// Is this value equal to negative infinity ?
</span><span class="decl-external" id="is_neginf"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_neginf">is-neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>neginf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c inline <span class="st">"(isinf(#1) &amp;&amp; signbit(#1))"</span>
  cs <span class="st">"double.IsNegativeInfinity"</span>
  js inline <span class="st">"((#1) === -Infinity)"</span></span>

<span class="comment">// Is this a finite number (i.e. not &#96;nan&#96; or infinity)
</span><span class="decl-external" id="is_finite"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_finite">is-finite<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>finite: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c  inline <span class="st">"isfinite(#1)"</span>
  cs inline <span class="st">"(!double.IsNaN(#1) &amp;&amp; !double.IsInfinity(#1))"</span>
  js <span class="st">"isFinite"</span></span>

<span class="comment">// Is this a negative zero value?
</span><span class="decl-fun" id="is_negzero"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_negzero">is-negzero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>negzero: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  (<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_amp__amp_">&amp;&amp;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&amp;&amp;): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="#is_neginf">is-neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>neginf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<span class="number">1.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a>)</span>)

<span class="comment">// Is this a [subnormal](https://en.wikipedia.org/wiki/Denormal&#95;number) value?
// (i.e. &#96;0 &lt; d.abs &lt; flt-min&#96;)
</span><span class="decl-fun" id="is_subnormal"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#is_subnormal">is-subnormal<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>subnormal: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  (<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_excl__eq__2">!=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(!=)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_amp__amp_">&amp;&amp;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&amp;&amp;): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="#flt_min">flt-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>min: <span class="tp">float64</span></span></a></span>)


<span class="comment">//-----------------------------------------
// Rounding
//-----------------------------------------
</span>
<span class="comment">// Round a float64 to its nearest integral value.
// If the value is halfway between two integers, the value is rounded towards the even one.
</span><span class="decl-external" id="round"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#round">round<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>round: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;double&#95;round&#95;even"</span>
  cs inline <span class="st">"Math.Round(#1,MidpointRounding.ToEven)"</span>
  js <span class="st">"$std&#95;core.&#95;double&#95;round&#95;even"</span></span>

<span class="comment">// Return the largest integer equal or less than &#96;d&#96;
</span><span class="decl-external" id="floor"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#floor">floor<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>floor: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"floor"</span>
  cs <span class="st">"Math.Floor"</span>
  js <span class="st">"Math.floor"</span></span>

<span class="comment">// Return the smallest integer equal or larger than &#96;d&#96;
</span><span class="decl-external" id="ceiling"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#ceiling">ceiling<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ceiling: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"ceil"</span>
  cs <span class="st">"Math.Ceiling"</span>
  js <span class="st">"Math.ceil"</span></span>

<span class="comment">// fused multiply-add. Computes &#96;(x&#42;y)+z&#96; as if to infinite precision
// with only the final result rounded back to a &#96;:float64&#96;.
</span><span class="decl-fun" id="fmadd"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#fmadd">fmadd<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>fmadd: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"fma"</span>
  js <span class="st">"&#95;fmadd"</span>
  cs <span class="st">"Math.FusedMultiplyAdd"</span></span>  

<span class="comment">// Return the integral part of a &#96;:float64&#96; &#96;d&#96; .
// If &#96;d &gt;= 0.0&#96; , return the largest integer equal or less to &#96;d&#96; ,
// If &#96;d &lt; 0.0&#96; , return the smallest integer equal or larger to &#96;d&#96; .
</span><span class="decl-fun" id="truncate"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#truncate">truncate<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>truncate: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__3">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.3</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <a class="pp" href="#floor">floor<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>floor: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a>) <span class="kw">else</span> <a class="pp" href="#ceiling">ceiling<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ceiling: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a></span>)

<span class="comment">// Return the fractional part of a &#96;:float64&#96; &#96;d&#96;.\
// &#96;d.truncate + d.fraction === d&#96;\
// &#96;(-2.4).fraction === -0.4&#96;
</span><span class="decl-fun" id="fraction"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#fraction">fraction<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>fraction: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#truncate">truncate<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>truncate: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span>

<span class="comment">// Return the 'floored' fraction of &#96;d&#96;, always greater or equal to zero.\
// &#96;d.floor + d.ffraction === d&#96;\
// &#96;(-2.4).ffraction === 0.6&#96;
</span><span class="decl-fun" id="ffraction"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#ffraction">ffraction<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ffraction: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#floor">floor<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>floor: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span>


<span class="comment">// Round a float64 to a specified precision. Rounds to the  even number in case of a tie.\
// &#96;123.456.round-to-prec(2) == 123.46&#96;\
// &#96;123.456.round-to-prec(-1) == 120.0&#96;\
</span><span class="decl-fun" id="round_to_prec"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#round_to_prec">round-to-prec<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>round<span class="dash">-</span>to<span class="dash">-</span>prec: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">prec</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">prec<span class="pc">prec: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>  ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">prec<span class="pc">prec: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__eq__1">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0</span> <span class="kw">then</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#round">round<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>round: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <span class="kw">else</span>
    <span class="kw">val</span> <a class="pp">p<span class="pc">p: <span class="tp">float64</span></span></a>  <span class="kw">=</span> <a class="pp" href="#exp10">exp10<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp10: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">prec<span class="pc">prec: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#float64">float64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>float64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>)
    (<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">p<span class="pc">p: <span class="tp">float64</span></span></a>)<span class="kw op">.</span><a class="pp" href="#round">round<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>round: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> </span><a class="pp">p<span class="pc">p: <span class="tp">float64</span></span></a>


<span class="comment">// Round a &#96;:float64&#96; to a &#96;:float32&#96;
</span><span class="decl-fun" id="float32"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#float32">float32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float32: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float32</span></span></a>( <a class="pp">f<span class="pc">f: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float32"><span class="tp">float32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float32: <span class="co">V</span></span></a>
  c inline <span class="st">"(float)(#1)"</span>
  js <span class="st">"$std&#95;core.&#95;double&#95;to&#95;float"</span></span>

<span class="comment">// Extend a &#96;:float32&#96; to a &#96;:float64&#96;
</span><span class="decl-fun" id="float64"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#float64">float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">f<span class="pc">f: <span class="tp">float32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float32"><span class="tp">float32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float32: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c inline <span class="st">"(double)(#1)"</span>
  js inline <span class="st">"(#1)"</span></span>

<span class="comment">// Short version of &#96;float32&#96; for convenience, e.g. &#96;1.337.f32&#96;. For example:
// &#96;&#96;&#96;
// &gt; 1.337.show-hex ++ " != " ++ 1.337.f32.float64.show-hex
// "0x1.5645A1CAC0831p+0 != 0x1.5645A2p+0"
// &#96;&#96;&#96;
// .
</span><span class="decl-fun" id="f32"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#f32">f32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>f32: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float32</span></span></a>( <a class="pp">f<span class="pc">f: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float32"><span class="tp">float32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float32: <span class="co">V</span></span></a>
  <a class="pp">f<span class="pc">f: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#float32">float32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float32: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float32</span></span></a></span>


<span class="comment">//-----------------------------------------
// Powers
//-----------------------------------------
</span>
<span class="comment">// Return the square root of a value &#96;d&#96;
// Returns &#96;nan&#96; if &#96;d == nan&#96;  or if &#96;d&#96;  is negative.
// Returns &#96;inf&#96; if &#96;d == inf&#96; .
</span><span class="decl-external" id="sqrt"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#sqrt">sqrt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqrt: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"sqrt"</span>
  cs <span class="st">"Math.Sqrt"</span>
  js <span class="st">"Math.sqrt"</span></span>


<span class="comment">// Return the cubic root of a value &#96;d&#96;
// Returns &#96;nan&#96; if &#96;d == nan&#96;  or if &#96;d&#96;  is negative.
// Returns &#96;inf&#96; if &#96;d == inf&#96; .
</span><span class="decl-external" id="cbrt"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#cbrt">cbrt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>cbrt: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"cbrt"</span>
  cs <span class="st">"Math.Cbrt"</span>
  js <span class="st">"Math.cbrt"</span></span>

<span class="comment">// Return the &#96;d&#96; raised to the power of &#96;p&#96;.
</span><span class="decl-external" id="pow"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#pow">pow<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pow: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, p <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"pow"</span>
  cs <span class="st">"Math.Pow"</span>
  js <span class="st">"Math.pow"</span></span>

<span class="comment">// Return the natural logarithm (in base &#95;e&#95;)  of a &#96;:float64&#96; &#96;f&#96;
</span><span class="decl-external" id="ln"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#ln">ln<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( f <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"log"</span>
  cs <span class="st">"Math.Log"</span>
  js <span class="st">"Math.log"</span></span>

<span class="comment">// Return the logarithm in base 10 of a &#96;:float64&#96; &#96;f&#96;.
</span><span class="decl-external" id="log10"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#log10">log10<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log10: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( f <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"log10"</span>
  cs <span class="st">"Math.Log10"</span>
  js <span class="st">"Math.log10"</span></span>

<span class="comment">// Return the logarithm in base 2 of a &#96;:float64&#96; &#96;f&#96;.
</span><span class="decl-external" id="log2"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#log2">log2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log2: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( f <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"log2"</span>
  cs <span class="st">"Math.Log2"</span>
  js <span class="st">"Math.log2"</span></span>

<span class="comment">// Return the logarithm in base &#96;base&#96; of a &#96;:float64&#96; &#96;f&#96;
</span><span class="decl-fun" id="log"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#log">log<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">base</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">f<span class="pc">f: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">base<span class="pc">base: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="#ln">ln<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">f<span class="pc">f: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#ln">ln<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">base<span class="pc">base: <span class="tp">float64</span></span></a></span>)

<span class="comment">// Return &#95;e&#95; to the power of &#96;p&#96;.
</span><span class="decl-external" id="exp"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#exp">exp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( p <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"exp"</span>
  cs <span class="st">"Math.Exp"</span>
  js <span class="st">"Math.exp"</span></span>

<span class="comment">// Return the 10 to the power of &#96;p&#96;.
</span><span class="decl-external" id="exp10"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#exp10">exp10<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp10: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( p <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  inline <span class="st">"pow(10.0,#1)"</span>
  cs inline <span class="st">"Math.Pow(10.0,#1)"</span>
  js inline <span class="st">"Math.pow(10.0,#1)"</span></span>

<span class="comment">// Return the 2 to the power of &#96;p&#96;.
</span><span class="decl-external" id="exp2"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#exp2">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( p <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"exp2"</span>
  cs inline <span class="st">"Math.Pow(2.0,#1)"</span>
  js inline <span class="st">"Math.pow(2.0,#1)"</span></span>


<span class="decl-fun" id="log2p1"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#log2p1">log2p1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log2p1: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="#flt_log2e">flt-log2e<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>log2e: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#ln1p">ln1p<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln1p: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a></span>)

<span class="decl-fun" id="exp2m1"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#exp2m1">exp2m1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2m1: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="#expm1">expm1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>expm1: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="#flt_ln2">flt-ln2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>ln2: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a></span>)

<span class="comment">// Returns &#96;ln(exp(x) + exp(y))&#96;.
// Avoids overlow/underflow errors.
</span><span class="decl-fun" id="lnaddexp"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#lnaddexp">lnaddexp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>lnaddexp: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#flt_ln2">flt-ln2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>ln2: <span class="tp">float64</span></span></a> <span class="kw">else</span>
    <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>
    <span class="kw">if</span> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__2">&gt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#ln1p">ln1p<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln1p: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="#exp">exp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_tilde__1">~<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(~)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>))
               <span class="kw">else</span> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#ln1p">ln1p<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln1p: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="#exp">exp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>)</span>)


<span class="comment">// Returns &#96;log2( exp2(x) + exp2(y) )&#96;.
// Avoids overlow/underflow errors.
</span><span class="decl-fun" id="logaddexp2"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#logaddexp2">logaddexp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>logaddexp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <span class="number">1.0</span> <span class="kw">else</span>
    <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>
    <span class="kw">if</span> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__2">&gt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#log2p1">log2p1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log2p1: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="#exp2">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_tilde__1">~<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(~)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>))
               <span class="kw">else</span> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#log2p1">log2p1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>log2p1: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="#exp2">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>)</span>)


<span class="comment">// Return if two floats are nearly equal with respect to some &#96;epsilon&#96; (=&#96;8&#42;flt-epsilon&#96;).
// The epsilon is the nearest difference for numbers around 1.0. The routine automatically
// scales the epsilon for larger and smaller numbers, and for subnormal numbers.
</span><span class="decl-fun" id="nearly_eq"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#nearly_eq">nearly-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>nearly<span class="dash">-</span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">epsilon</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">epsilon<span class="pc">epsilon: <span class="tp op">?</span><span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_optional"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>optional: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="kw">=</span> <span class="number">8.0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#flt_epsilon">flt-epsilon<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>epsilon: <span class="tp">float64</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a> 
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp">bool</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>
  <span class="kw">val</span> <a class="pp">diff<span class="pc">diff: <span class="tp">float64</span></span></a> <span class="kw">=</span> (<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">diff<span class="pc">diff: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="#flt_min">flt-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>min: <span class="tp">float64</span></span></a> <span class="kw">then</span>
    <span class="comment">// very close to zero, scale the epsilon for denormalized numbers
</span>    (<span class="number">2.0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">diff<span class="pc">diff: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> (<a class="pp">epsilon<span class="pc">epsilon: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#flt_min">flt-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>min: <span class="tp">float64</span></span></a>))
  <span class="kw">else</span> 
    <span class="kw">val</span> <a class="pp">sum<span class="pc">sum: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>
    ((<span class="number">2.0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">diff<span class="pc">diff: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> (<span class="kw">if</span> <a class="pp">sum<span class="pc">sum: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__2">&gt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="#flt_max">flt-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>max: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp" href="#flt_max">flt-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>max: <span class="tp">float64</span></span></a> <span class="kw">else</span> <a class="pp">sum<span class="pc">sum: <span class="tp">float64</span></span></a>)) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">epsilon<span class="pc">epsilon: <span class="tp">float64</span></span></a></span>)
  

<span class="comment">// Return if two floats are nearly equal with respect to an &#96;epsilon&#96; of &#96;8&#42;flt-epsilon&#96;.
// See also &#96;nearly-eq&#96; which takes an explicit &#96;epsilon&#96;.
</span><span class="decl-fun" id="_tilde__eq_"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#_tilde__eq_">(~=)<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(~=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  <a class="pp" href="#nearly_eq">nearly-eq<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>nearly<span class="dash">-</span>eq: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">epsilon</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>,<a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a></span>)

<span class="comment">//-----------------------------------------
// Ldexp/Frexp
//-----------------------------------------
</span>
<span class="comment">// Low-level: return the bits of a 64-bit &#96;:float64&#96; as in &#96;:int64&#96;
</span><span class="decl-fun" id="float64_to_bits"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int64"><span class="tp">int64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int64: <span class="co">V</span></span></a> 
  c  <span class="st">"kk&#95;double&#95;to&#95;bits"</span>
  cs <span class="st">"Primitive.DoubleToBits"</span>
  js <span class="st">"&#95;double&#95;to&#95;bits"</span></span>


<span class="comment">// Low-level: create a &#96;:float64&#96; from the given 64-bit integer. 
</span><span class="decl-fun" id="float64_from_bits"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#float64_from_bits">float64-from-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>from<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int64"><span class="tp">int64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;double&#95;from&#95;bits"</span>
  cs <span class="st">"Primitive.DoubleFromBits"</span>
  js <span class="st">"&#95;double&#95;from&#95;bits"</span></span> 


<span class="comment">// Calculate 2&amp;middot;^&#96;e&#96;^ for an integer &#96;e&#96;.
// Uses efficient bit conversion for exponents between  -1022 and 1023 and
// otherwise falls back to the regular &#96;exp2&#96; function converting &#96;e&#96; to a float64.
</span><span class="decl-fun" id="exp2_1"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#exp2_1">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__1">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">-1022</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_amp__amp_">&amp;&amp;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(&amp;&amp;): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__eq__1">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">1023</span>
    <span class="kw">then</span> <a class="pp" href="#float64_from_bits">float64-from-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>from<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( (<span class="number">1023</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#shl">shl<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>shl: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">52</span>) )
    <span class="kw">else</span> <a class="pp" href="#exp2">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2: <span class="tp sp">(</span><span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#float64">float64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>float64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> </span>)


<span class="comment">// Create a float64 &#96;d&#96; given a mantissa &#96;man&#96; and exponent &#96;exp&#96;
// such that &#96;man&#96;&amp;middot;2^&#96;exp&#96;^ =  &#96;d&#96; exactly (if it is representable
// by a &#96;:float64&#96;). See also &#96;ldexp&#96;.
</span><span class="decl-fun" id="encode"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#encode">encode<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>encode: <span class="tp sp">(</span><span class="tp tpp">man</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">exp</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">man<span class="pc">man: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <a class="pp">exp<span class="pc">exp: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="#ldexp">ldexp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ldexp: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">man<span class="pc">man: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#float64">float64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>float64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>,<a class="pp">exp<span class="pc">exp: <span class="tp">int</span></span></a></span>)

<span class="decl-val" id="one_p1023"><span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#one_p1023">one-p1023<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>p1023: <span class="tp">float64</span></span></a> <span class="kw">=</span> <span class="number">0x1.0p1023</span></span>
<span class="decl-val" id="one_m1022"><span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#one_m1022">one-m1022<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>m1022: <span class="tp">float64</span></span></a> <span class="kw">=</span> <span class="number">0x1.0p-1022</span></span>   <span class="comment">// = flt-min
</span>
<span class="decl-fun" id="mul_exp2"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> 
  <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#exp2_1">exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>exp2<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a></span>)

<span class="comment">// 'Load exponent': returns &#96;x&#96;&amp;middot;2^&#96;e&#96;^ for a &#96;is-finite&#96; &#96;x&#96; and
// otherwise &#96;x&#96; itself. See also &#96;encode&#96; which loads an integer mantissa.
</span><span class="decl-fun" id="ldexp"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#ldexp">ldexp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ldexp: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp" href="#is_finite">is-finite<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>finite: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>) <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>
  <span class="kw">elif</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__1">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">-1022</span> <span class="kw">then</span>
    <span class="kw">if</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__eq__1">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">1023</span> <span class="kw">then</span> <a class="pp" href="#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>,<a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a>)  <span class="comment">// usually this branch
</span>    <span class="kw">elif</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__eq__1">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">2046</span> <span class="kw">then</span> <a class="pp" href="#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_p1023">one-p1023<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>p1023: <span class="tp">float64</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__4">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">1023</span> )
    <span class="kw">elif</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__eq__1">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">3069</span> <span class="kw">then</span> <a class="pp" href="#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_p1023">one-p1023<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>p1023: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_p1023">one-p1023<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>p1023: <span class="tp">float64</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__4">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">2046</span> )
    <span class="kw">elif</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <a class="pp" href="#neginf">neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>neginf: <span class="tp">float64</span></span></a> <span class="kw">else</span> <a class="pp" href="#posinf">posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>posinf: <span class="tp">float64</span></span></a>
  <span class="kw">else</span>
    <span class="kw">if</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__1">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">-2044</span> <span class="kw">then</span> <a class="pp" href="#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_m1022">one-m1022<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>m1022: <span class="tp">float64</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">1022</span>)
    <span class="kw">elif</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__1">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">-3066</span> <span class="kw">then</span> <a class="pp" href="#mul_exp2">mul-exp2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>mul<span class="dash">-</span>exp2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_m1022">one-m1022<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>m1022: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#one_m1022">one-m1022<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>one<span class="dash">-</span>m1022: <span class="tp">float64</span></span></a>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">2044</span> )
    <span class="kw">elif</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <span class="number">-0.0</span> <span class="kw">else</span> <span class="number">0.0</span></span>


<span class="comment">// Decode a float64 &#96;d&#96; into a tuple &#96;(m,e)&#96; of a mantissa &#96;m&#96; and exponent &#96;e&#96;
// such that &#96;m&#96;&amp;middot;2^&#96;e&#96;^ =  &#96;d&#96; exactly. The mantissa &#96;m&#96; is
// always either 0 or in the range [2^52^, 2^53^). See also &#96;frexp&#96;.
</span><span class="decl-fun" id="decode"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#decode">decode<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><span class="number">0</span>,<span class="number">0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
  <span class="kw">elif</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_subnormal">is-subnormal<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>subnormal: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="#decode_normalized">decode-normalized<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode<span class="dash">-</span>normalized: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e<span class="dash">-</span>adjust</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <span class="number">0x1.0p54</span>, <span class="number">-54</span>)
  <span class="kw">else</span> <a class="pp" href="#decode_normalized">decode-normalized<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode<span class="dash">-</span>normalized: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e<span class="dash">-</span>adjust</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a>,<span class="number">0</span></span>)

<span class="comment">// decode a normalized float64 (i.e. not subnormal)
</span><span class="decl-fun" id="decode_normalized"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#decode_normalized">decode-normalized<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode<span class="dash">-</span>normalized: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">e<span class="dash">-</span>adjust</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">e-adjust<span class="pc">e<span class="dash">-</span>adjust: <span class="tp op">?</span><span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_optional"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>optional: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="kw">=</span> <span class="number">0</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a>    <span class="kw">=</span> <a class="pp" href="#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">exp<span class="pc">exp: <span class="tp">int64</span></span></a>  <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#and">and<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>and: <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#shr">shr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>shr: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">52</span>),<span class="number">0x7FF</span><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#_dash_">-<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>(<span class="dash">-</span>): <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a> <span class="number">1043</span><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>
  <span class="kw">val</span> <a class="pp">man<span class="pc">man: <span class="tp">int64</span></span></a>  <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#and">and<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>and: <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a>,<span class="number">0x000F_FFFF_FFFF_FFFF</span><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a> <span class="number">0x0010_0000_0000_0000</span><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a> (<span class="kw">if</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#is_neg">is-neg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>is<span class="dash">-</span>neg: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#_tilde_">~<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>(~): <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">int64</span></span></a><a class="pp">man<span class="pc">man: <span class="tp">int64</span></span></a> <span class="kw">else</span> <a class="pp">man<span class="pc">man: <span class="tp">int64</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int_5">int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int<span class="postfix">.5</span>: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>, <a class="pp">exp<span class="pc">exp: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#int_5">int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int<span class="postfix">.5</span>: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__4">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">32</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <a class="pp">e-adjust<span class="pc">e<span class="dash">-</span>adjust: <span class="tp">int</span></span></a> </span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
  

<span class="comment">// 'Fraction/exponent': return the normalized fraction &#96;f&#96; and exponent &#96;exp&#96;
// for a number &#96;x&#96; such that &#96;x == f&#96;&amp;middot;2^&#96;exp&#96;^.
// The absolute value of the fraction &#96;f&#96; is always in the range [0.5, 1.0), or
// one of &#96;0.0&#96;, &#96;-0.0&#96;, &#96;neginf&#96;, &#96;posinf&#96;, or &#96;nan&#96;.
// See also &#96;decode&#96; which  decodes to an integer mantissa.
</span><span class="decl-fun" id="frexp"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#frexp">frexp<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>frexp: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space__lp__comma__rp_"><span class="tp">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp sp">(</span><span class="co">V</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_finite">is-finite<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>finite: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_negzero">is-negzero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>negzero: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp"><span class="kw">return</span><span class="pc">return: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>,<span class="number">0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
  <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a>,<a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#decode">decode<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#float64">float64<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>float64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <span class="number">0x1.0p-53</span>, <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">53</span>  </span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>


<span class="comment">// Returns the greatest &#96;:float64&#96; less than &#96;x&#96;.
// This behaves exactly as &#96;nextDown&#96; in the IEEE 754-2008 standard.
// The identity &#96;x.next-down == ~next-down(~x)&#96; holds for all &#96;x&#96;. 
// When &#96;x&#96; is finite &#96;x == x.next-down.next-up&#96; also holds.
</span><span class="decl-fun" id="next_down"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#next_down">next-down<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>next<span class="dash">-</span>down: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_nan">is-nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>nan: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_neginf">is-neginf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>neginf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>
  <span class="kw">elif</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#is_zero_2">is-zero<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>is<span class="dash">-</span>zero<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_tilde__1">~<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(~)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#flt_true_min">flt-true-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>true<span class="dash">-</span>min: <span class="tp">float64</span></span></a>
  <span class="kw">else</span> 
    <span class="kw">val</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp" href="#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
    <span class="kw">val</span> <a class="pp">next<span class="pc">next: <span class="tp">int64</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#is_neg">is-neg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>is<span class="dash">-</span>neg: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#inc">inc<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>inc: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a> <span class="kw">else</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#dec">dec<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>dec: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>
    <a class="pp" href="#float64_from_bits">float64-from-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>from<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp">int64</span></span></a></span>)


<span class="comment">// Returns the least &#96;:float64&#96; greater than &#96;x&#96;.
// This behaves exactly as &#96;nextUp&#96; in the IEEE 754-2008 standard.
// The identity &#96;x.next-up == ~next-down(~x)&#96; holds for all &#96;x&#96;. 
// When &#96;x&#96; is finite &#96;x == x.next-up.next-down&#96; also holds.
</span><span class="decl-fun" id="next_up"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#next_up">next-up<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>next<span class="dash">-</span>up: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_nan">is-nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>nan: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_posinf">is-posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>posinf: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>
  <span class="kw">elif</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#is_zero_2">is-zero<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>is<span class="dash">-</span>zero<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="#flt_true_min">flt-true-min<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>flt<span class="dash">-</span>true<span class="dash">-</span>min: <span class="tp">float64</span></span></a>
  <span class="kw">else</span> 
    <span class="kw">val</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp" href="#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
    <span class="kw">val</span> <a class="pp">next<span class="pc">next: <span class="tp">int64</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#is_neg">is-neg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>is<span class="dash">-</span>neg: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#dec">dec<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>dec: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a> <span class="kw">else</span> <a class="pp">i<span class="pc">i: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#inc">inc<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>inc: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>
    <a class="pp" href="#float64_from_bits">float64-from-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>from<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">next<span class="pc">next: <span class="tp">int64</span></span></a></span>)


<span class="comment">// Compare floats using a total ordering on the &#96;:float64&#96;.
// The ordering follows the &#96;totalOrder&#96; predicate as defined in IEEE 754-2008 exactly.
// The values are ordered in following order:
// negative quiet nan,
// negative signaling nan,
// &#96;neginf&#96;,
// -finite,
// -0.0,
// +0.0,
// finite,
// &#96;posinf&#96;,
// signaling nan,
// and quiet nan.
</span><span class="decl-fun" id="compare"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#compare">compare<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>compare: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">order</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_order"><span class="tp">order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>order: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">bx<span class="pc">bx: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp" href="#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">by<span class="pc">by: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp" href="#float64_to_bits">float64-to-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>to<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>)
  <span class="comment">// flip exp+mantissa bits if negative to get a two's complement number
</span>  <span class="kw">val</span> <a class="pp">ix<span class="pc">ix: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp">bx<span class="pc">bx: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#sar">sar<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>sar: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">63</span>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#shr">shr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>shr: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">1</span>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#xor">xor<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>xor: <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">bx<span class="pc">bx: <span class="tp">int64</span></span></a>)
  <span class="kw">val</span> <a class="pp">iy<span class="pc">iy: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp">by<span class="pc">by: <span class="tp">int64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#sar">sar<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>sar: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">63</span>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#shr">shr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>shr: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<span class="number">1</span>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#xor">xor<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>xor: <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int64</span></span></a>(<a class="pp">by<span class="pc">by: <span class="tp">int64</span></span></a>)
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#compare">compare<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>compare: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">order</span></span></a>(<a class="pp">ix<span class="pc">ix: <span class="tp">int64</span></span></a>,<a class="pp">iy<span class="pc">iy: <span class="tp">int64</span></span></a></span>)
  

<span class="comment">//-----------------------------------------
// Show in hexadecimal
//-----------------------------------------
</span>
<span class="comment">/&#42; Show a float64 in [hexadecimal notation](https://books.google.com/books?id=FgMsCwAAQBAJ&amp;pg=PA41).
An advantage of this format is that it precisely represents the &#96;:float64&#96; and can
reliably (and efficiently) be parsed back, i.e. &#96;d.show-hex.parse-float64 == Just(d)&#96;.
The significant is the &#95;hexadecimal&#95; fraction while the
exponent after the &#96;p&#96; is the &#95;decimal&#95; power of 2.
 For example, &#96;&#96;0xA.Fp-10&#96;&#96; = (10 + 15/16)&amp;middot;2^-10^  (not 2^-16^!) = 0.01068115234375.
 Equivalently, &#96;&#96;0xA.Fp-10 == 0x5.78p-9 == 0x2.BCp-8 == 0x1.5Ep-7&#96;&#96;.
&#96;&#96;&#96;
&gt; flt-min.show-hex
"0x1.0p-1022"
&gt; 0.1.show-hex
"0x1.999999999999Ap-4"
&gt; flt-max.show-hex
"0x1.FFFFFFFFFFFFFp+1023"
&gt; -0.0.show-hex
"-0x0.0p+0"
&gt; nan.show-hex
"NaN"
&gt; 0.01068115234375.show-hex
"0x1.5Ep-7"
&#96;&#96;&#96;
.
&#42;/</span>
<span class="decl-fun" id="show_hex"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#show_hex">show-hex<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>show<span class="dash">-</span>hex: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">width</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">use<span class="dash">-</span>capitals</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">pre</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">width<span class="pc">width: <span class="tp op">?</span><span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_optional"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>optional: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="kw">=</span> <span class="number">1</span>, <a class="pp">use-capitals<span class="pc">use<span class="dash">-</span>capitals: <span class="tp op">?</span><span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_optional"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>optional: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>, <a class="pp">pre<span class="pc">pre: <span class="tp op">?</span><span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_optional"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>optional: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="kw">=</span> <span class="st">"0x"</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_excl__1">!<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(!)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">b</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_finite">is-finite<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>finite: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#show_1">show<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>show<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">precision</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="kw">else</span>
    <span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a>,<a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space__lp__comma__rp_"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(,): <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#decode">decode<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>decode: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span></span></a>
    <span class="kw">val</span> <a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a>   <span class="kw">=</span> <a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#show_hex">show-hex<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>show<span class="dash">-</span>hex: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">width</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">use<span class="dash">-</span>capitals</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">pre</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(<span class="number">1</span>,<a class="pp">use-capitals<span class="pc">use<span class="dash">-</span>capitals: <span class="tp">bool</span></span></a>,<span class="st">""</span>)
    <span class="kw">val</span> <a class="pp">exp0<span class="pc">exp0: <span class="tp">int</span></span></a>  <span class="kw">=</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__4">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">4</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star_">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;): <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(<a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#count_1">count<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>count<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__4">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">1</span>)
    <span class="kw">val</span> <a class="pp">exp<span class="pc">exp: <span class="tp">string</span></span></a>   <span class="kw">=</span> (<span class="kw">if</span> <a class="pp">exp0<span class="pc">exp0: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__1">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0</span> <span class="kw">then</span> <span class="st">"+"</span> <span class="kw">else</span> <span class="st">""</span>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">exp0<span class="pc">exp0: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#show">show<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>show: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>
    <span class="kw">val</span> <a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a>  <span class="kw">=</span> <a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#tail_2">tail<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>tail<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#trim_right_1">trim-right<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>trim<span class="dash">-</span>right<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">sub</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(<span class="st">"0"</span>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#pad_right">pad-right<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>pad<span class="dash">-</span>right: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">width</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">fill</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">j</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>(<span class="number">1</span>,<a class="pp">width<span class="pc">width: <span class="tp">int</span></span></a>),<span class="st">'0'</span>)
    <span class="kw">val</span> <a class="pp">sign<span class="pc">sign: <span class="tp">string</span></span></a>  <span class="kw">=</span> <span class="kw">if</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#is_neg_3">is-neg<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>is<span class="dash">-</span>neg<span class="postfix">.3</span>: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#_bar__bar_">||<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(||): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#is_negzero">is-negzero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>is<span class="dash">-</span>negzero: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <span class="st">"-"</span> <span class="kw">else</span> <span class="st">""</span>
    <a class="pp">sign<span class="pc">sign: <span class="tp">string</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">pre<span class="pc">pre: <span class="tp">string</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#head_3">head<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>head<span class="postfix">.3</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="st">"."</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <span class="st">"p"</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">exp<span class="pc">exp: <span class="tp">string</span></span></a></span>


<span class="comment">//-----------------------------------------
// Parse a float64
//-----------------------------------------
</span>
<span class="comment">// Parse a float64 number. Can be "NaN", "Inf(inity)" (case-insensitive),
// a fix-point number (&#96;1.2&#96;) or in scientific notation (&#96;-2.3e-5&#96;).
// Also allows floats in [hexadecimal notation](https://books.google.com/books?id=FgMsCwAAQBAJ&amp;pg=PA41) (&#96;0xA.Fp-10&#96;) that can
// be represented precisely (and are the preferred &#95;round trip&#95; format).
</span><span class="decl-fun" id="parse_float64"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#parse_float64">parse-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>parse<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">s<span class="pc">s: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>
  <a class="pp">s<span class="pc">s: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#trim">trim<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>trim: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#to_lower">to-lower<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>to<span class="dash">-</span>lower: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#slice">slice<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>slice: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sslice</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#parse_eof">parse-eof<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse<span class="dash">-</span>eof: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">input</span> <span class="tp kw op">:</span> <span class="tp">sslice</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">parse<span class="dash">-</span>error</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>(<a class="pp" href="#pdouble">pdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#maybe">maybe<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>maybe: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">perr</span> <span class="tp kw op">:</span> <span class="tp">parse<span class="dash">-</span>error</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a></span>

<span class="decl-fun" id="pdouble"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#pdouble">pdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="co">HX</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">neg<span class="pc">neg: <span class="tp">bool</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#sign">sign<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>sign: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">bool</span></span></a>()
  <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#con_space_Cons"><span class="co">[</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>Cons: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">head</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">tail</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>{ <a class="pp" href="#phexdouble">phexdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>phexdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() }, { <a class="pp" href="#pdecdouble">pdecdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pdecdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() }, { <a class="pp" href="#pspecial">pspecial<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pspecial: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() }, { <span class="number">0.0</span> }<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#con_space_Nil"><span class="co">]</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>Nil: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#choose">choose<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>choose: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ps</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>
  <span class="kw">if</span> <a class="pp">neg<span class="pc">neg: <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_tilde__1">~<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(~)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="kw">else</span> </span><a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a>

<span class="decl-fun" id="phexdouble"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#phexdouble">phexdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>phexdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="co">HX</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">'0'</span>)
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">"xX"</span>)
  <span class="kw">val</span> <a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a>  <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#hex_digits">hex-digits<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>hex<span class="dash">-</span>digits: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>()
  <span class="kw">val</span> <a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <span class="st">""</span>, { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">'.'</span>); <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#hex_digits">hex-digits<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>hex<span class="dash">-</span>digits: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>() })<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#trim_right_1">trim-right<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>trim<span class="dash">-</span>right<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">sub</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(<span class="st">"0"</span>)
  <span class="kw">val</span> <a class="pp">exp<span class="pc">exp: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <span class="number">0</span>, { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">"pP"</span>); <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#pint">pint<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>pint: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>() })
  <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <span class="kw">=</span> (<a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__plus__1">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(++)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a> <a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#parse_int">parse-int<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>parse<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">hex</span> <span class="tp kw op">:</span> <span class="tp op">?</span><span class="tp">bool</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a>(hex<span class="kw">=</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#con_space_True"><span class="co">True</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>True: <span class="tp">bool</span></span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#default">default<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>default: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">nothing</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">a</span></span></a>(<span class="number">0</span>)
  <span class="kw">val</span> <a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp">exp<span class="pc">exp: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__4">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <span class="number">4</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star_">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;): <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a><a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#count_1">count<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>count<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a>
  <a class="pp" href="#encode">encode<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>encode: <span class="tp sp">(</span><span class="tp tpp">man</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">exp</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a>,<a class="pp">e<span class="pc">e: <span class="tp">int</span></span></a></span>)

<span class="decl-fun" id="pdecdouble"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#pdecdouble">pdecdouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pdecdouble: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="co">HX</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">cur<span class="pc">cur: <span class="tp">sslice</span></span></a>  <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#current_input">current-input<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>current<span class="dash">-</span>input: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">sslice</span></span></a>()
  <span class="kw">val</span> <a class="pp">man<span class="pc">man: <span class="tp">string</span></span></a>  <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#digits">digits<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>digits: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>()
  <span class="kw">val</span> <a class="pp">frac<span class="pc">frac: <span class="tp">string</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>(<span class="st">""</span>, { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">'.'</span>); <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#digits0">digits0<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>digits0: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>() })<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#trim_right_1">trim-right<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>trim<span class="dash">-</span>right<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">sub</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a>(<span class="st">"0"</span>)
  <span class="kw">val</span> <a class="pp">exp<span class="pc">exp: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>( <span class="number">0</span>, { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<span class="st">"eE"</span>); <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#pint">pint<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>pint: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>() })
  <span class="comment">//val m : int = (man ++ frac).parse-int-default(0)
</span>  <span class="comment">//val e : int = exp - frac.count
</span>  <span class="comment">//m.float64 &#42; exp10(e.float64)
</span>  <a class="pp">cur<span class="pc">cur: <span class="tp">sslice</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#string_3">string<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string<span class="postfix">.3</span>: <span class="tp sp">(</span><span class="tp tpp">slice</span> <span class="tp kw op">:</span> <span class="tp">sslice</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="#prim_parse_float64">prim-parse-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>prim<span class="dash">-</span>parse<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span>  <span class="comment">// more precision than simple multiply
</span>
<span class="decl-fun" id="pspecial"><span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#pspecial">pspecial<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pspecial: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">float64</span></span></a>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="co">HX</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#con_space_Cons"><span class="co">[</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>Cons: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">head</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">tail</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>{ <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#pstring">pstring<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>pstring: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>(<span class="st">"nan"</span>); <a class="pp" href="#nan">nan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>nan: <span class="tp">float64</span></span></a> },
   { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#pstring">pstring<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>pstring: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>(<span class="st">"infinity"</span>); <a class="pp" href="#posinf">posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>posinf: <span class="tp">float64</span></span></a> },
   { <a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#pstring">pstring<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>pstring: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">string</span></span></a>(<span class="st">"inf"</span>); <a class="pp" href="#posinf">posinf<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>posinf: <span class="tp">float64</span></span></a> }
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#con_space_Nil"><span class="co">]</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>Nil: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_text_parse-source.html#choose">choose<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>choose: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">ps</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a></span>

<span class="comment">// Return &#96;nan&#96; on failure
</span><span class="decl-fun" id="prim_parse_float64"><span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#prim_parse_float64">prim-parse-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>prim<span class="dash">-</span>parse<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">s<span class="pc">s: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;prim&#95;parse&#95;double"</span>
  cs <span class="st">"Primitive.DoubleParse"</span>
  js <span class="st">"parseFloat"</span></span>


<span class="comment">//-----------------------------------------
// Various
//-----------------------------------------
</span>
<span class="comment">// Return the sum of a list of floats.
// Uses [Kahan-Babu&amp;scaron;kan-Neumaier summation](https://en.wikipedia.org/wiki/Kahan&#95;summation&#95;algorithm#Further&#95;enhancements)
// to minimize rounding errors. This
// is more precise as Kahan summation and about as fast.\
// &#96;[1.0e3,1.0e97,1.0e3,-1.0e97].sum == 2000.0&#96;\
// A. Neumaier, &#95;Rundungsfehleranalyse einiger Verfahren zur Summation endlicher Summen&#95;.
// Math. Mechanik, 54:39--51, 1974.
</span><span class="decl-fun" id="sum"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#sum">sum<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sum: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd-source.html#local_var"><span class="kw">var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_scope">total<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>scope: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a> <span class="kw op">:=</span> <span class="number">0.0</span>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_hnd-source.html#local_var"><span class="kw">var</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd<span class="fslash last">/</span></span>local<span class="dash">-</span>var: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tpp">l</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">b</span></span></a> <a class="pp">comp<span class="pc">comp: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">342</span>,float64<span class="op">&gt;</span></span></a>  <span class="kw op">:=</span> <span class="number">0.0</span>
  <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#foreach">foreach<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>foreach: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
    <span class="kw">val</span> <a class="pp">t<span class="pc">t: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp">total<span class="pc">total: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>
    <span class="kw">val</span> <a class="pp">c<span class="pc">c: <span class="tp">float64</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp">total<span class="pc">total: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_gt__eq__3">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&gt;=)<span class="postfix">.3</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <span class="kw">then</span> (<a class="pp">total<span class="pc">total: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">t<span class="pc">t: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="kw">else</span> (<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_dash__2">-<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="dash">-</span>)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">t<span class="pc">t: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">total<span class="pc">total: <span class="tp">float64</span></span></a>
    <a class="pp">comp<span class="pc">comp: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">342</span>,float64<span class="op">&gt;</span></span></a>  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp">comp<span class="pc">comp: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">c<span class="pc">c: <span class="tp">float64</span></span></a>
    <a class="pp">total<span class="pc">total: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">342</span>,float64<span class="op">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">,</span><span class="tp tv">h</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">,</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">assigned</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp sp">&lt;</span><span class="tp tv">h</span><span class="tp sp">&gt;</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp sp">)</span></span></a> <a class="pp">t<span class="pc">t: <span class="tp">float64</span></span></a>
  <a class="pp">total<span class="pc">total: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">comp<span class="pc">comp: <span class="tp">float64</span></span></a></span>;

<span class="comment">// The hypotenuse of &#96;x&#96; and &#96;y&#96;: &#96;sqrt(x&#42;x + y&#42;y)&#96;.
// Prevents overflow for large numbers.
</span><span class="decl-fun" id="hypot"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#hypot">hypot<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>hypot: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#min_1">min<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>min<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a>,<a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max_1">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a>,<a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a>)
  <span class="kw">if</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <span class="kw">then</span> <span class="number">0.0</span> <span class="kw">else</span>
    <span class="kw">val</span> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>  <span class="kw">=</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>
    <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#sqrt">sqrt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqrt: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <span class="number">1.0</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> </span>)


<span class="comment">// The square root of the sum of the squares of three floats.
// Prevents overflow for large numbers.
</span><span class="decl-fun" id="hypot_1"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#hypot_1">hypot<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>hypot<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">zz<span class="pc">zz: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">z<span class="pc">z: <span class="tp">float64</span></span></a>)
  <span class="kw">val</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max_1">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max_1">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a>,<a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a>),<a class="pp">zz<span class="pc">zz: <span class="tp">float64</span></span></a>)
  <span class="kw">if</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <span class="kw">then</span> <span class="number">0.0</span> <span class="kw">else</span>
    <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#sqrt">sqrt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqrt: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp" href="#sqr">sqr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqr: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">xx<span class="pc">xx: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#sqr">sqr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqr: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">yy<span class="pc">yy: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_plus__2">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(+)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#sqr">sqr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqr: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">zz<span class="pc">zz: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>) </span>)


<span class="comment">// The square root of the sum of squares of a list of floats.
// Prevents overflow for large numbers and uses Kahan-Babu&amp;scaron;kan-Neumaier summation
// for precision.
</span><span class="decl-fun" id="hypot_2"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#hypot_2">hypot<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>hypot<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">=</span> <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="#abs_max_1">abs-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>abs<span class="dash">-</span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>
  <span class="kw">if</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_eq__eq__2">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(==)<span class="postfix">.2</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a><span class="number">0.0</span> <span class="kw">then</span> <span class="number">0.0</span> <span class="kw">else</span>
    <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#map_5">map<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>map<span class="postfix">.5</span>: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">b</span><span class="tp sp">&gt;</span></span></a>( <span class="kw">fn</span>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>) <a class="pp" href="#sqr">sqr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqr: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>) )<span class="kw op">.</span><a class="pp" href="#sum">sum<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sum: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="#sqrt">sqrt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqrt: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span>


<span class="comment">// The square of a float64
</span><span class="decl-fun" id="sqr"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#sqr">sqr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sqr: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> )<span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span><a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>

<span class="comment">// The maximum of the absolute values.
</span><span class="decl-fun" id="abs_max"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#abs_max">abs-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>abs<span class="dash">-</span>max: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max_1">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>),<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a>)</span>)

<span class="comment">// The maximum of a list of absolute values.
</span><span class="decl-fun" id="abs_max_1"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#abs_max_1">abs-max<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>abs<span class="dash">-</span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#type_space_list"><span class="tp">list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>list: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">xs<span class="pc">xs: <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">float64</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#foldl">foldl<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>foldl: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp sp">(</span><span class="tp tv">b</span><span class="tp sp">,</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">b</span></span></a>(<span class="number">0.0</span>, <span class="kw">fn</span>(<a class="pp">m<span class="pc">m: <span class="tp">float64</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#max_1">max<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>max<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>),<a class="pp">m<span class="pc">m: <span class="tp">float64</span></span></a>) </span>)

<span class="comment">//-----------------------------------------
// Trigonometry
//-----------------------------------------
</span>
<span class="decl-val" id="rad2deg"><span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#rad2deg">rad2deg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>rad2deg: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> <span class="kw">=</span> <span class="number">180.0</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><a class="pp" href="#pi">pi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pi: <span class="tp">float64</span></span></a></span>
<span class="decl-val" id="deg2rad"><span class="kw">val</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#deg2rad">deg2rad<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>deg2rad: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="#pi">pi<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>pi: <span class="tp">float64</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_fs__1">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(<span class="fslash">/</span>)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a><span class="number">180.0</span></span>

<span class="comment">// Convert radians to degrees.
</span><span class="decl-fun" id="deg"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#deg">deg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>deg: <span class="tp sp">(</span><span class="tp tpp">rad</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">rad<span class="pc">rad: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">rad<span class="pc">rad: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#rad2deg">rad2deg<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>rad2deg: <span class="tp">float64</span></span></a></span>

<span class="comment">// Convert degrees to radians.
</span><span class="decl-fun" id="rad"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#rad">rad<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>rad: <span class="tp sp">(</span><span class="tp tpp">deg</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">deg<span class="pc">deg: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <a class="pp">deg<span class="pc">deg: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_star__1">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&#42;)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a> <a class="pp" href="#deg2rad">deg2rad<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>deg2rad: <span class="tp">float64</span></span></a></span>


<span class="comment">// Return &#96;x&#96; with the sign of &#96;y&#96;.
</span><span class="decl-fun" id="with_sign_of"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#with_sign_of">with-sign-of<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>with<span class="dash">-</span>sign<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp">y<span class="pc">y: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_lt__4">&lt;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(&lt;)<span class="postfix">.4</span>: <span class="tp sp">(</span><span class="tp">float64</span><span class="tp sp">,</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">bool</span></span></a> <span class="number">0.0</span> <span class="kw">then</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#_tilde__1">~<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>(~)<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>) <span class="kw">else</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core-source.html#abs_1">abs<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>abs<span class="postfix">.1</span>: <span class="tp sp">(</span><span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a></span>


<span class="comment">// Return the sine of an angle in radians &#96;d&#96;.
</span><span class="decl-external" id="sin"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#sin">sin<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sin: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"sin"</span>
  cs <span class="st">"Math.Sin"</span>
  js <span class="st">"Math.sin"</span></span>

<span class="comment">// Return the cosine of an angle in radians &#96;d&#96;.
</span><span class="decl-external" id="cos"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#cos">cos<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>cos: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"cos"</span>
  cs <span class="st">"Math.Cos"</span>
  js <span class="st">"Math.cos"</span></span>

<span class="comment">// Return the tangent of an angle in radians &#96;d&#96;.
</span><span class="decl-external" id="tan"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#tan">tan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>tan: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"tan"</span>
  cs <span class="st">"Math.Tan"</span>
  js <span class="st">"Math.tan"</span></span>

<span class="comment">// Return the arc-tangent of &#96;d&#96;
</span><span class="decl-external" id="atan"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#atan">atan<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>atan: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"atan"</span>
  cs <span class="st">"Math.Atan"</span>
  js <span class="st">"Math.atan"</span></span>

<span class="comment">// Return the arc-tangent of a point (&#96;x&#96;,&#96;y&#96;).
</span><span class="decl-external" id="atan2"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#atan2">atan2<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>atan2: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( x <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, y <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"atan2"</span>
  cs <span class="st">"Math.Atan2"</span>
  js <span class="st">"Math.atan2"</span></span>

<span class="comment">// Return the arc-cosine of &#96;d&#96;
</span><span class="decl-external" id="acos"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#acos">acos<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>acos: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"acos"</span>
  cs <span class="st">"Math.Acos"</span>
  js <span class="st">"Math.acos"</span></span>

<span class="comment">// Return the arc-sine of &#96;d&#96;
</span><span class="decl-external" id="asin"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#asin">asin<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>asin: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"asin"</span>
  cs <span class="st">"Math.Asin"</span>
  js <span class="st">"Math.asin"</span></span>


<span class="comment">// The hyperbolic tangent of &#96;d&#96;
</span><span class="decl-external" id="tanh"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#tanh">tanh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>tanh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"tanh"</span>
  cs <span class="st">"Math.Tanh"</span>
  js <span class="st">"Math.tanh"</span></span>

<span class="comment">// The hyperbolic cosine of &#96;d&#96;
</span><span class="decl-external" id="cosh"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#cosh">cosh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>cosh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"cosh"</span>
  cs <span class="st">"Math.Cosh"</span>
  js <span class="st">"Math.cosh"</span></span>

<span class="comment">// The hyperbolic sine of &#96;d&#96;
</span><span class="decl-external" id="sinh"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#sinh">sinh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>sinh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"sinh"</span>
  cs <span class="st">"Math.Sinh"</span>
  js <span class="st">"Math.sinh"</span></span>

<span class="comment">// Return &#96;ln(1.0 + x)&#96;.
// Avoids potential imprecision for small &#96;x&#96; where adding &#96;1.0&#96; explicitly
// may lead to rounding errors.
</span><span class="decl-external" id="ln1p"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#ln1p">ln1p<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>ln1p: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"log1p"</span>
  js <span class="st">"Math.log1p"</span></span>

<span class="comment">// Return &#96;exp(x - 1.0)&#96;.
// Avoids rounding errors for values of &#96;x&#96; very close to &#96;1.0&#96;.
</span><span class="decl-external" id="expm1"><span class="kw">pub</span> inline <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#expm1">expm1<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>expm1: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( d <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"expm1"</span>
  js <span class="st">"Math.expm1"</span></span>

<span class="comment">// The area hyperbolic tangent of &#96;d&#96;
</span><span class="decl-fun" id="atanh"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#atanh">atanh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>atanh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"atanh"</span>
  js <span class="st">"Math.atanh"</span></span>

<span class="comment">// The area hyperbolic cosine of &#96;d&#96;
</span><span class="decl-fun" id="acosh"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#acosh">acosh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>acosh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"acosh"</span>
  js <span class="st">"Math.acosh"</span></span>

<span class="comment">// The area hyperbolic sine of &#96;d&#96;
</span><span class="decl-fun" id="asinh"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#asinh">asinh<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>asinh: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">float64</span></span></a>( <a class="pp">d<span class="pc">d: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a> ) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c <span class="st">"asinh"</span>
  js <span class="st">"Math.asinh"</span></span>


<span class="comment">// ------------------------
// explicit implementations
// ------------------------
</span>  
<span class="comment">/&#42;  
// Return &#96;log(1.0 + x)&#96;.
// Avoids potential imprecision for small &#96;x&#96; where adding &#96;1.0&#96; explicitly
// may lead to rounding errors.
pub fun log1p( x : float64 ) : float64
  if x.is-posinf then x else
    val y = 1.0 + x
    val z = y - 1.0
    if z==0.0 then x else
      log(y) &#42; (x / z)


// Return &#96;exp(x - 1.0)&#96;.
// Avoids rounding errors for values of &#96;x&#96; very close to &#96;1.0&#96;.
pub fun expm1( x : float64 ) : float64
  if x.is-posinf then x else
    val y = exp(x)
    if y==1.0 then x
    elif y - 1.0 == -1.0 then -1.0
    else (y - 1.0) &#42; (x / log(y))


// The area hyperbolic tangent of &#96;x&#96;
pub fun atanh( x : float64 ) : float64
  0.5&#42;log( (1.0 + x) / (1.0 - x))
  /&#42;
  // 0.5&#42;log( (1.0 + x) / (1.0 - x)) = 0.5&#42;log1p( (2.0&#42;x) / (1-x) )
  if x.abs &gt;= 0.5 then 0.5&#42;log1p(2.0&#42;(x/(1.0 - x))) else
    val x2 = x + x
    0.5&#42;log1p(x2 + (x2&#42;x)/(1.0 - x))

  &#42;/

// The area hyperbolic cosine of &#96;x&#96;
pub fun acosh( x : float64 ) : float64
  // log(x + sqrt((x - 1.0)&#42;(x + 1.0)));
  if x &gt; 0x1.0p28 then flt-ln2 + log(x)
  elif x &gt; 2.0 then
    log(2.0&#42;x - 1.0/(x + sqrt(x.sqr - 1.0)))

  elif x &lt;= 1.0 then (if x &lt; 1.0 then nan else 0.0)
  else
    val xm1 = x - 1.0
    log1p( xm1 + sqrt(2.0&#42;xm1 + xm1&#42;xm1) )


// The area hyperbolic sine of &#96;x&#96;
pub fun asinh( x : float64 ) : float64
  //log( x + sqrt(x.sqr + 1.0))
  val xa = x.abs
  if xa &gt; 0x1.0p28 then (log(xa) + flt-ln2).with-sign-of(x)
  elif xa &gt;= 2.0 then (log(2.0&#42;xa + 1.0/(xa + sqrt(xa.sqr + 1.0)))).with-sign-of(x)
  elif xa == 0.0 then 0.0
  else
    val xa2 = xa.sqr
    log1p( xa + xa2/(1.0 + sqrt( xa2 + 1.0 ))).with-sign-of(x)


&#42;/</span>
</pre>

</body>
</html>
